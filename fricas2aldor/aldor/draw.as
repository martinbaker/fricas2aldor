[File 

 [DEF TopLevelDrawFunctionsForCompiledFunctions
 DEFCategories:
  [CATEGORY  package
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:TwoDimensionalViewport 
   Mapping DoubleFloat DoubleFloat 
   Segment Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:TwoDimensionalViewport 
   Mapping DoubleFloat DoubleFloat 
   Segment Float 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  makeObject
   SIGNATURE params:GraphImage 
   Mapping DoubleFloat DoubleFloat 
   Segment Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:TwoDimensionalViewport 
   ParametricPlaneCurve Mapping DoubleFloat DoubleFloat 
   Segment Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:TwoDimensionalViewport 
   ParametricPlaneCurve Mapping DoubleFloat DoubleFloat 
   Segment Float 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  makeObject
   SIGNATURE params:GraphImage 
   ParametricPlaneCurve Mapping DoubleFloat DoubleFloat 
   Segment Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:ThreeDimensionalViewport 
   ParametricSpaceCurve Mapping DoubleFloat DoubleFloat 
   Segment Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:ThreeDimensionalViewport 
   ParametricSpaceCurve Mapping DoubleFloat DoubleFloat 
   Segment Float 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:ThreeDimensionalViewport 
   Mapping Point DoubleFloat DoubleFloat 
   Segment Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:ThreeDimensionalViewport 
   Mapping Point DoubleFloat DoubleFloat 
   Segment Float 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  makeObject
   SIGNATURE params:ThreeSpace DoubleFloat 
   ParametricSpaceCurve Mapping DoubleFloat DoubleFloat 
   Segment Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  makeObject
   SIGNATURE params:ThreeSpace DoubleFloat 
   ParametricSpaceCurve Mapping DoubleFloat DoubleFloat 
   Segment Float 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  makeObject
   SIGNATURE params:ThreeSpace DoubleFloat 
   Mapping Point DoubleFloat DoubleFloat 
   Segment Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  makeObject
   SIGNATURE params:ThreeSpace DoubleFloat 
   Mapping Point DoubleFloat DoubleFloat 
   Segment Float 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:ThreeDimensionalViewport 
   Mapping DoubleFloat DoubleFloat DoubleFloat 
   Segment Float 
   Segment Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:ThreeDimensionalViewport 
   Mapping DoubleFloat DoubleFloat DoubleFloat 
   Segment Float 
   Segment Float 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  makeObject
   SIGNATURE params:ThreeSpace DoubleFloat 
   Mapping DoubleFloat DoubleFloat DoubleFloat 
   Segment Float 
   Segment Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  makeObject
   SIGNATURE params:ThreeSpace DoubleFloat 
   Mapping DoubleFloat DoubleFloat DoubleFloat 
   Segment Float 
   Segment Float 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:ThreeDimensionalViewport 
   Mapping Point DoubleFloat DoubleFloat DoubleFloat 
   Segment Float 
   Segment Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:ThreeDimensionalViewport 
   Mapping Point DoubleFloat DoubleFloat DoubleFloat 
   Segment Float 
   Segment Float 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  makeObject
   SIGNATURE params:ThreeSpace DoubleFloat 
   Mapping Point DoubleFloat DoubleFloat DoubleFloat 
   Segment Float 
   Segment Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  makeObject
   SIGNATURE params:ThreeSpace DoubleFloat 
   Mapping Point DoubleFloat DoubleFloat DoubleFloat 
   Segment Float 
   Segment Float 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:ThreeDimensionalViewport 
   ParametricSurface Mapping DoubleFloat DoubleFloat DoubleFloat 
   Segment Float 
   Segment Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:ThreeDimensionalViewport 
   ParametricSurface Mapping DoubleFloat DoubleFloat DoubleFloat 
   Segment Float 
   Segment Float 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  makeObject
   SIGNATURE params:ThreeSpace DoubleFloat 
   ParametricSurface Mapping DoubleFloat DoubleFloat DoubleFloat 
   Segment Float 
   Segment Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  makeObject
   SIGNATURE params:ThreeSpace DoubleFloat 
   ParametricSurface Mapping DoubleFloat DoubleFloat DoubleFloat 
   Segment Float 
   Segment Float 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  recolor
   SIGNATURE params:Mapping Point DoubleFloat DoubleFloat DoubleFloat 
   Mapping Point DoubleFloat DoubleFloat DoubleFloat 
   Mapping DoubleFloat DoubleFloat DoubleFloat DoubleFloat 
   
   ]
   
  ]
  
 DEFCapsule:
  [CAPSULE CAPSULEFnType:
   [FnType   drawToScaleRanges
   FnType  params:List Segment Float 
   Segment DoubleFloat 
   Segment DoubleFloat 
   
   ]
   
  CAPSULEFnType:
   [FnType   make_plot
   FnType  params:GraphImage 
   Plot 
   List DrawOption 
   
   ]
   
  CAPSULEFnType:
   [FnType   normalize
   FnType  params:Segment DoubleFloat 
   Segment Float 
   
   ]
   
  CAPSULEFnType:
   [FnType   myTrap1
   FnType  params:DoubleFloat 
   Mapping DoubleFloat DoubleFloat 
   DoubleFloat 
   
   ]
   
  CAPSULEFnType:
   [FnType   makePt2
   FnType  params:Point DoubleFloat 
   DoubleFloat 
   DoubleFloat 
   
   ]
   
  CAPSULEFnType:
   [FnType   makePt4
   FnType  params:Point DoubleFloat 
   DoubleFloat 
   DoubleFloat 
   DoubleFloat 
   DoubleFloat 
   
   ]
   
  CAPSULEFnType:
   [FnType   id
   FnType  params:DoubleFloat 
   DoubleFloat 
   
   ]
   
  CAPSULEFnType:
   [FnType   zCoord
   FnType  params:DoubleFloat 
   DoubleFloat 
   DoubleFloat 
   DoubleFloat 
   
   ]
   
  CAPSULEFnType:
   [FnType   colorPoints
   FnType  params:List List Point DoubleFloat 
   List List Point DoubleFloat 
   Mapping DoubleFloat DoubleFloat DoubleFloat DoubleFloat 
   
   ]
   
  CAPSULEFnType:
   [FnType   myTrap2
   FnType  params:DoubleFloat 
   Mapping DoubleFloat DoubleFloat DoubleFloat 
   DoubleFloat 
   DoubleFloat 
   
   ]
   
  CAPSULEFnType:
   [FnType   xCoord
   FnType  params:DoubleFloat 
   DoubleFloat 
   DoubleFloat 
   
   ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=Plot ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=TwoDimensionalPlotClipping ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=GraphicsDefaults ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=ViewportPackage ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=ThreeDimensionalViewport ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=DrawOptionFunctions0 ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=MakeFloatCompiledFunction symbol=Ex ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=MeshCreationRoutinesForThreeDimensions ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=SegmentFunctions2 
    
     [Node list symbol=DoubleFloat ]
     
     [Node list symbol=Float ]
     ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=ViewDefaultsPackage ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=AnyFunctions1 
    
     [Node list symbol=Mapping 
     
      [Node list symbol=Point 
      
       [Node list symbol=DoubleFloat ]
       ]
      
      [Node list symbol=Point 
      
       [Node list symbol=DoubleFloat ]
       ]
      ]
     ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=AnyFunctions1 
    
     [Node list symbol=Mapping 
     
      [Node list symbol=DoubleFloat ]
      
      [Node list symbol=DoubleFloat ]
      
      [Node list symbol=DoubleFloat ]
      
      [Node list symbol=DoubleFloat ]
      ]
     ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=DrawOptionFunctions0 ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=ThreeSpace 
    
     [Node list symbol=DoubleFloat ]
     ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=Float ]
    ]
   
  CAPSULEOther:
   [Node list symbol=LET string=draw: when specifying function, left hand side must be a variable 
   
    [Node list symbol=: symbol=EXTOVARERROR 
    
     [Node list symbol=String ]
     ]
    ]
   
  CAPSULEOther:
   [Node list symbol=LET string=draw: range is in interval with only one point 
   
    [Node list symbol=: symbol=SMALLRANGEERROR 
    
     [Node list symbol=String ]
     ]
    ]
   
  CAPSULEOther:
   [Node list symbol=LET string=draw: independent variable appears on lhs of function definition 
   
    [Node list symbol=: symbol=DEPVARERROR 
    
     [Node list symbol=String ]
     ]
    ]
   
  CAPSULEDef:
   [DEF drawToScaleRanges xVals yVals SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET xHi
    [Node list symbol=LET symbol=xHi 
    
     [Node list symbol=@ 
     
      [Node list symbol=convert 
      
       [Node list symbol=high symbol=xVals ]
       ]
      
      [Node list symbol=Float ]
      ]
     ]
    
   DEFSubnode:atts= LET xLo
    [Node list symbol=LET symbol=xLo 
    
     [Node list symbol=@ 
     
      [Node list symbol=convert 
      
       [Node list symbol=low symbol=xVals ]
       ]
      
      [Node list symbol=Float ]
      ]
     ]
    
   DEFSubnode:atts= LET yHi
    [Node list symbol=LET symbol=yHi 
    
     [Node list symbol=@ 
     
      [Node list symbol=convert 
      
       [Node list symbol=high symbol=yVals ]
       ]
      
      [Node list symbol=Float ]
      ]
     ]
    
   DEFSubnode:atts= LET yLo
    [Node list symbol=LET symbol=yLo 
    
     [Node list symbol=@ 
     
      [Node list symbol=convert 
      
       [Node list symbol=low symbol=yVals ]
       ]
      
      [Node list symbol=Float ]
      ]
     ]
    
   DEFSubnode:atts= LET xDiff
    [Node list symbol=LET symbol=xDiff 
    
     [Node list symbol=- symbol=xHi symbol=xLo ]
     ]
    
   DEFSubnode:atts= LET yDiff
    [Node list symbol=LET symbol=yDiff 
    
     [Node list symbol=- symbol=yHi symbol=yLo ]
     ]
    
   DEFSubnode:atts= LET pad
    [Node list symbol=LET symbol=pad 
    
     [Node list symbol=/ int=2 
     
      [Node list symbol=abs 
      
       [Node list symbol=- symbol=yDiff symbol=xDiff ]
       ]
      ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=IF 
     
      [Node list symbol=> symbol=yDiff symbol=xDiff ]
      
      [Node list symbol=construct 
      
       [Node list symbol=segment 
       
        [Node list symbol=- symbol=xLo symbol=pad ]
        
        [Node list symbol=+ symbol=xHi symbol=pad ]
        ]
       
       [Node list symbol=map symbol=yVals 
       
        [Node list symbol=+-> symbol=x 
        
         [Node list symbol=@ 
         
          [Node list symbol=convert symbol=x ]
          
          [Node list symbol=Float ]
          ]
         ]
        ]
       ]
      
      [Node list symbol=construct 
      
       [Node list symbol=map symbol=xVals 
       
        [Node list symbol=+-> symbol=x 
        
         [Node list symbol=@ 
         
          [Node list symbol=convert symbol=x ]
          
          [Node list symbol=Float ]
          ]
         ]
        ]
       
       [Node list symbol=segment 
       
        [Node list symbol=- symbol=yLo symbol=pad ]
        
        [Node list symbol=+ symbol=yHi symbol=pad ]
        ]
       ]
      ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF make_plot plot l SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET branches
    [Node list symbol=LET symbol=branches 
    
     [Node list symbol=listBranches symbol=plot ]
     ]
    
   DEFSubnode:atts= LET xRange
    [Node list symbol=LET symbol=xRange 
    
     [Node list symbol=xRange symbol=plot ]
     ]
    
   DEFSubnode:atts= LET yRange
    [Node list symbol=LET symbol=yRange 
    
     [Node list symbol=yRange symbol=plot ]
     ]
    
   DEFSubnode:atts= SEQ
    [Node list symbol=SEQ 
    
     [Node list symbol=LET symbol=cl 
     
      [Node list symbol=option symbol=l 
      
       [Node list symbol=QUOTE symbol=clipSegment ]
       ]
      ]
     
     [Node list symbol=exit int=1 
     
      [Node list symbol=IF 
      
       [Node list symbol=case symbol=cl string=failed ]
       
       [Node list symbol=SEQ 
       
        [Node list symbol=LET 
        
         [Node list symbol=: symbol=G821210 
         
          [Node list symbol=Boolean ]
          ]
         
         [Node list symbol=clipBoolean symbol=l 
         
          [Node list symbol=clipPointsDefault ]
          ]
         ]
        
        [Node list symbol=exit int=1 
        
         [Node list symbol=IF symbol=G821210 string=No explicit user-specified clipping 
         
          [Node list symbol=SEQ 
          
           [Node list symbol=LET symbol=clipInfo 
           
            [Node list symbol=SEQ 
            
             [Node list symbol=LET 
             
              [Node list symbol=: symbol=G821209 
              
               [Node list symbol=Boolean ]
               ]
              
              [Node list symbol=parametric? symbol=plot ]
              ]
             
             [Node list symbol=exit int=1 
             
              [Node list symbol=IF symbol=G821209 
              
               [Node list symbol=clipParametric symbol=plot ]
               
               [Node list symbol=clip symbol=plot ]
               ]
              ]
             ]
            ]
           
           [Node list symbol=LET symbol=branches 
           
            [Node list symbol=clipInfo symbol=brans ]
            ]
           
           [Node list symbol=LET symbol=xRange 
           
            [Node list symbol=clipInfo symbol=xValues ]
            ]
           
           [Node list symbol=exit int=1 
           
            [Node list symbol=LET symbol=yRange 
            
             [Node list symbol=clipInfo symbol=yValues ]
             ]
            ]
           ]
          ]
         ]
        ]
       
       [Node list symbol=SEQ 
       
        [Node list symbol=LET symbol=segList 
        
         [Node list 
         
          [Node list symbol=Sel symbol=retract 
          
           [Node list symbol=AnyFunctions1 
           
            [Node list symbol=List 
            
             [Node list symbol=Segment 
             
              [Node list symbol=Float ]
              ]
             ]
            ]
           ]
          
          [Node list symbol=:: symbol=cl 
          
           [Node list symbol=Any ]
           ]
          ]
         ]
        
        [Node list symbol=LET 
        
         [Node list symbol=: symbol=G821211 
         
          [Node list symbol=Boolean ]
          ]
         
         [Node list symbol=empty? symbol=segList ]
         ]
        
        [Node list symbol=exit int=1 
        
         [Node list symbol=IF symbol=G821211 
         
          [Node list symbol=error string=draw: you may specify at least 1 segment for 2D clipping ]
          
          [Node list symbol=SEQ 
          
           [Node list symbol=LET 
           
            [Node list symbol=: symbol=G821212 
            
             [Node list symbol=Boolean ]
             ]
            
            [Node list symbol=more? symbol=segList int=2 ]
            ]
           
           [Node list symbol=exit int=1 
           
            [Node list symbol=IF symbol=G821212 
            
             [Node list symbol=error string=draw: you may specify at most 2 segments for 2D clipping ]
             
             [Node list symbol=SEQ 
             
              [Node list symbol=LET 
              
               [Node list symbol=: symbol=xLo 
               
                [Node list symbol=DoubleFloat ]
                ]
               
               [Node list symbol=Zero ]
               ]
              
              [Node list symbol=LET 
              
               [Node list symbol=: symbol=xHi 
               
                [Node list symbol=DoubleFloat ]
                ]
               
               [Node list symbol=Zero ]
               ]
              
              [Node list symbol=LET 
              
               [Node list symbol=: symbol=yLo 
               
                [Node list symbol=DoubleFloat ]
                ]
               
               [Node list symbol=Zero ]
               ]
              
              [Node list symbol=LET 
              
               [Node list symbol=: symbol=yHi 
               
                [Node list symbol=DoubleFloat ]
                ]
               
               [Node list symbol=Zero ]
               ]
              
              [Node list symbol=SEQ 
              
               [Node list symbol=LET 
               
                [Node list symbol=: symbol=G821213 
                
                 [Node list symbol=Boolean ]
                 ]
                
                [Node list symbol=empty? 
                
                 [Node list symbol=rest symbol=segList ]
                 ]
                ]
               
               [Node list symbol=exit int=1 
               
                [Node list symbol=IF symbol=G821213 
                
                 [Node list symbol=SEQ 
                 
                  [Node list symbol=LET symbol=xLo 
                  
                   [Node list symbol=low symbol=xRange ]
                   ]
                  
                  [Node list symbol=LET symbol=xHi 
                  
                   [Node list symbol=high symbol=xRange ]
                   ]
                  
                  [Node list symbol=LET symbol=yRangeF 
                  
                   [Node list symbol=first symbol=segList ]
                   ]
                  
                  [Node list symbol=LET symbol=yLo 
                  
                   [Node list symbol=@ 
                   
                    [Node list symbol=convert 
                    
                     [Node list symbol=low symbol=yRangeF ]
                     ]
                    
                    [Node list symbol=DoubleFloat ]
                    ]
                   ]
                  
                  [Node list symbol=exit int=1 
                  
                   [Node list symbol=LET symbol=yHi 
                   
                    [Node list symbol=@ 
                    
                     [Node list symbol=convert 
                     
                      [Node list symbol=high symbol=yRangeF ]
                      ]
                     
                     [Node list symbol=DoubleFloat ]
                     ]
                    ]
                   ]
                  ]
                 
                 [Node list symbol=SEQ 
                 
                  [Node list symbol=LET symbol=xRangeF 
                  
                   [Node list symbol=first symbol=segList ]
                   ]
                  
                  [Node list symbol=LET symbol=xLo 
                  
                   [Node list symbol=@ 
                   
                    [Node list symbol=convert 
                    
                     [Node list symbol=low symbol=xRangeF ]
                     ]
                    
                    [Node list symbol=DoubleFloat ]
                    ]
                   ]
                  
                  [Node list symbol=LET symbol=xHi 
                  
                   [Node list symbol=@ 
                   
                    [Node list symbol=convert 
                    
                     [Node list symbol=high symbol=xRangeF ]
                     ]
                    
                    [Node list symbol=DoubleFloat ]
                    ]
                   ]
                  
                  [Node list symbol=LET symbol=yRangeF 
                  
                   [Node list symbol=second symbol=segList ]
                   ]
                  
                  [Node list symbol=LET symbol=yLo 
                  
                   [Node list symbol=@ 
                   
                    [Node list symbol=convert 
                    
                     [Node list symbol=low symbol=yRangeF ]
                     ]
                    
                    [Node list symbol=DoubleFloat ]
                    ]
                   ]
                  
                  [Node list symbol=exit int=1 
                  
                   [Node list symbol=LET symbol=yHi 
                   
                    [Node list symbol=@ 
                    
                     [Node list symbol=convert 
                     
                      [Node list symbol=high symbol=yRangeF ]
                      ]
                     
                     [Node list symbol=DoubleFloat ]
                     ]
                    ]
                   ]
                  ]
                 ]
                ]
               ]
              
              [Node list symbol=LET symbol=clipInfo 
              
               [Node list symbol=clipWithRanges symbol=branches symbol=xLo symbol=xHi symbol=yLo symbol=yHi ]
               ]
              
              [Node list symbol=LET symbol=branches 
              
               [Node list symbol=clipInfo symbol=brans ]
               ]
              
              [Node list symbol=LET symbol=xRange 
              
               [Node list symbol=clipInfo symbol=xValues ]
               ]
              
              [Node list symbol=exit int=1 
              
               [Node list symbol=LET symbol=yRange 
               
                [Node list symbol=clipInfo symbol=yValues ]
                ]
               ]
              ]
             ]
            ]
           ]
          ]
         ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= SEQ
    [Node list symbol=SEQ 
    
     [Node list symbol=LET 
     
      [Node list symbol=: symbol=G821214 
      
       [Node list symbol=Boolean ]
       ]
      
      [Node list symbol=toScale symbol=l 
      
       [Node list symbol=drawToScale ]
       ]
      ]
     
     [Node list symbol=exit int=1 
     
      [Node list symbol=IF symbol=G821214 
      
       [Node list symbol=SEQ 
       
        [Node list symbol=LET symbol=scaledRanges 
        
         [Node list symbol=drawToScaleRanges symbol=xRange symbol=yRange ]
         ]
        
        [Node list symbol=exit int=1 
        
         [Node list symbol=LET symbol=l 
         
          [Node list symbol=concat symbol=l 
          
           [Node list symbol=ranges symbol=scaledRanges ]
           ]
          ]
         ]
        ]
       
       [Node list symbol=SEQ 
       
        [Node list symbol=LET 
        
         [Node list symbol=: symbol=xRangeFloat 
         
          [Node list symbol=Segment 
          
           [Node list symbol=Float ]
           ]
          ]
         
         [Node list symbol=map symbol=xRange 
         
          [Node list symbol=+-> symbol=x 
          
           [Node list symbol=@ 
           
            [Node list symbol=convert symbol=x ]
            
            [Node list symbol=Float ]
            ]
           ]
          ]
         ]
        
        [Node list symbol=LET 
        
         [Node list symbol=: symbol=yRangeFloat 
         
          [Node list symbol=Segment 
          
           [Node list symbol=Float ]
           ]
          ]
         
         [Node list symbol=map symbol=yRange 
         
          [Node list symbol=+-> symbol=x 
          
           [Node list symbol=@ 
           
            [Node list symbol=convert symbol=x ]
            
            [Node list symbol=Float ]
            ]
           ]
          ]
         ]
        
        [Node list symbol=exit int=1 
        
         [Node list symbol=LET symbol=l 
         
          [Node list symbol=concat symbol=l 
          
           [Node list symbol=ranges 
           
            [Node list symbol=LET 
            
             [Node list symbol=: symbol=ll 
             
              [Node list symbol=List 
              
               [Node list symbol=Segment 
               
                [Node list symbol=Float ]
                ]
               ]
              ]
             
             [Node list symbol=construct symbol=xRangeFloat symbol=yRangeFloat ]
             ]
            ]
           ]
          ]
         ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= LET ptCol
    [Node list symbol=LET symbol=ptCol 
    
     [Node list symbol=pointColorPalette symbol=l 
     
      [Node list symbol=pointColorDefault ]
      ]
     ]
    
   DEFSubnode:atts= LET crCol
    [Node list symbol=LET symbol=crCol 
    
     [Node list symbol=curveColorPalette symbol=l 
     
      [Node list symbol=lineColorDefault ]
      ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=graphCurves symbol=branches symbol=ptCol symbol=crCol symbol=l 
     
      [Node list symbol=pointSizeDefault ]
      ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF normalize seg SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET a
    [Node list symbol=LET symbol=a 
    
     [Node list symbol=@ 
     
      [Node list symbol=convert 
      
       [Node list symbol=low symbol=seg ]
       ]
      
      [Node list symbol=DoubleFloat ]
      ]
     ]
    
   DEFSubnode:atts= LET b
    [Node list symbol=LET symbol=b 
    
     [Node list symbol=@ 
     
      [Node list symbol=convert 
      
       [Node list symbol=high symbol=seg ]
       ]
      
      [Node list symbol=DoubleFloat ]
      ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=IF 
     
      [Node list symbol== symbol=a symbol=b ]
      
      [Node list symbol=error symbol=SMALLRANGEERROR ]
      
      [Node list symbol=IF 
      
       [Node list symbol=< symbol=a symbol=b ]
       
       [Node list symbol=segment symbol=a symbol=b ]
       
       [Node list symbol=segment symbol=b symbol=a ]
       ]
      ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF myTrap1 ff f SEQ
   DEFSubnode:atts= DoubleFloat
    [Node list symbol=DoubleFloat ]
    
   DEFSubnode:atts= Mapping
    [Node list symbol=Mapping 
    
     [Node list symbol=DoubleFloat ]
     
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= DoubleFloat
    [Node list symbol=DoubleFloat ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET s
    [Node list symbol=LET symbol=s 
    
     [Node list symbol=:: 
     
      [Node list 
      
       [Node list symbol=Sel symbol=Lisp symbol=trapNumericErrors ]
       
       [Node list symbol=ff symbol=f ]
       ]
      
      [Node list symbol=Union string=failed 
      
       [Node list symbol=DoubleFloat ]
       ]
      ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=IF 
     
      [Node list symbol=case symbol=s string=failed ]
      
      [Node list symbol=Zero ]
      
      [Node list symbol=SEQ 
      
       [Node list symbol=LET symbol=r 
       
        [Node list symbol=:: symbol=s 
        
         [Node list symbol=DoubleFloat ]
         ]
        ]
       
       [Node list symbol=exit int=1 
       
        [Node list symbol=IF 
        
         [Node list symbol=> symbol=r 
         
          [Node list 
          
           [Node list symbol=Sel symbol=max 
           
            [Node list symbol=DoubleFloat ]
            ]
           ]
          ]
         
         [Node list 
         
          [Node list symbol=Sel symbol=max 
          
           [Node list symbol=DoubleFloat ]
           ]
          ]
         
         [Node list symbol=IF symbol=r 
         
          [Node list symbol=< symbol=r 
          
           [Node list 
           
            [Node list symbol=Sel symbol=min 
            
             [Node list symbol=DoubleFloat ]
             ]
            ]
           ]
          
          [Node list 
          
           [Node list symbol=Sel symbol=min 
           
            [Node list symbol=DoubleFloat ]
            ]
           ]
          ]
         ]
        ]
       ]
      ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF makePt2 x y point
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=l 
     
      [Node list symbol=List 
      
       [Node list symbol=DoubleFloat ]
       ]
      ]
     
     [Node list symbol=construct symbol=x symbol=y ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF makeObject f seg l SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= Mapping
    [Node list symbol=Mapping 
    
     [Node list symbol=DoubleFloat ]
     
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET oldAdaptive
    [Node list symbol=LET symbol=oldAdaptive 
    
     [Node list 
     
      [Node list symbol=Sel symbol=adaptive? 
      
       [Node list symbol=Plot ]
       ]
      ]
     ]
    
   DEFSubnode:atts=
    [Node list 
    
     [Node list symbol=Sel symbol=setAdaptive 
     
      [Node list symbol=Plot ]
      ]
     
     [Node list symbol=adaptive symbol=l symbol=oldAdaptive ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=ff 
     
      [Node list symbol=List 
      
       [Node list symbol=Mapping 
       
        [Node list symbol=Point 
        
         [Node list symbol=DoubleFloat ]
         ]
        
        [Node list symbol=DoubleFloat ]
        ]
       ]
      ]
     
     [Node list symbol=construct 
     
      [Node list symbol=+-> symbol=x 
      
       [Node list symbol=makePt2 symbol=x 
       
        [Node list symbol=myTrap1 symbol=f symbol=x ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= SEQ
    [Node list symbol=SEQ 
    
     [Node list symbol=LET symbol=c 
     
      [Node list symbol=option symbol=l 
      
       [Node list symbol=QUOTE symbol=coordinates ]
       ]
      ]
     
     [Node list symbol=exit int=1 
     
      [Node list symbol=IF 
      
       [Node list symbol=case symbol=c string=failed ]
       
       [Node list symbol=LET symbol=ff 
       
        [Node list symbol=construct 
        
         [Node list symbol=+-> symbol=x 
         
          [Node list symbol=makePt2 symbol=x 
          
           [Node list symbol=myTrap1 symbol=f symbol=x ]
           ]
          ]
         ]
        ]
       
       [Node list symbol=SEQ 
       
        [Node list symbol=LET 
        
         [Node list symbol=: symbol=cc 
         
          [Node list symbol=List 
          
           [Node list symbol=Mapping 
           
            [Node list symbol=Point 
            
             [Node list symbol=DoubleFloat ]
             ]
            
            [Node list symbol=Point 
            
             [Node list symbol=DoubleFloat ]
             ]
            ]
           ]
          ]
         
         [Node list symbol=construct 
         
          [Node list 
          
           [Node list symbol=Sel symbol=retract 
           
            [Node list symbol=AnyFunctions1 
            
             [Node list symbol=Mapping 
             
              [Node list symbol=Point 
              
               [Node list symbol=DoubleFloat ]
               ]
              
              [Node list symbol=Point 
              
               [Node list symbol=DoubleFloat ]
               ]
              ]
             ]
            ]
           
           [Node list symbol=:: symbol=c 
           
            [Node list symbol=Any ]
            ]
           ]
          ]
         ]
        
        [Node list symbol=exit int=1 
        
         [Node list symbol=LET symbol=ff 
         
          [Node list symbol=construct 
          
           [Node list symbol=+-> symbol=x 
           
            [Node list 
            
             [Node list symbol=first symbol=cc ]
             
             [Node list symbol=x 
             
              [Node list symbol=first symbol=ff ]
              ]
             ]
            ]
           ]
          ]
         ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= LET pl
    [Node list symbol=LET symbol=pl 
    
     [Node list symbol=pointPlot 
     
      [Node list symbol=first symbol=ff ]
      
      [Node list symbol=normalize symbol=seg ]
      ]
     ]
    
   DEFSubnode:atts= oldAdaptive
    [Node list symbol=oldAdaptive 
    
     [Node list symbol=Sel symbol=setAdaptive 
     
      [Node list symbol=Plot ]
      ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=make_plot symbol=pl symbol=l ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF draw f seg l SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= Mapping
    [Node list symbol=Mapping 
    
     [Node list symbol=DoubleFloat ]
     
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET g
    [Node list symbol=LET symbol=g 
    
     [Node list symbol=makeObject symbol=f symbol=seg symbol=l ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=makeViewport2D symbol=g symbol=l ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF draw f seg draw f seg
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= Mapping
    [Node list symbol=Mapping 
    
     [Node list symbol=DoubleFloat ]
     
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= construct
    [Node list symbol=construct ]
    
   ]
   
  CAPSULEDef:
   [DEF makeObject ppc seg l SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= ParametricPlaneCurve
    [Node list symbol=ParametricPlaneCurve 
    
     [Node list symbol=Mapping 
     
      [Node list symbol=DoubleFloat ]
      
      [Node list symbol=DoubleFloat ]
      ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET oldAdaptive
    [Node list symbol=LET symbol=oldAdaptive 
    
     [Node list 
     
      [Node list symbol=Sel symbol=adaptive? 
      
       [Node list symbol=Plot ]
       ]
      ]
     ]
    
   DEFSubnode:atts=
    [Node list 
    
     [Node list symbol=Sel symbol=setAdaptive 
     
      [Node list symbol=Plot ]
      ]
     
     [Node list symbol=adaptive symbol=l symbol=oldAdaptive ]
     ]
    
   DEFSubnode:atts= LET f
    [Node list symbol=LET symbol=f 
    
     [Node list symbol=coordinate symbol=ppc 
     
      [Node list symbol=One ]
      ]
     ]
    
   DEFSubnode:atts= LET g
    [Node list symbol=LET symbol=g 
    
     [Node list symbol=coordinate symbol=ppc int=2 ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=fcn 
     
      [Node list symbol=List 
      
       [Node list symbol=Mapping 
       
        [Node list symbol=Point 
        
         [Node list symbol=DoubleFloat ]
         ]
        
        [Node list symbol=DoubleFloat ]
        ]
       ]
      ]
     
     [Node list symbol=construct 
     
      [Node list symbol=+-> symbol=x 
      
       [Node list symbol=makePt2 
       
        [Node list symbol=myTrap1 symbol=f symbol=x ]
        
        [Node list symbol=myTrap1 symbol=g symbol=x ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= SEQ
    [Node list symbol=SEQ 
    
     [Node list symbol=LET symbol=c 
     
      [Node list symbol=option symbol=l 
      
       [Node list symbol=QUOTE symbol=coordinates ]
       ]
      ]
     
     [Node list symbol=exit int=1 
     
      [Node list symbol=IF symbol=noBranch 
      
       [Node list symbol=case symbol=c string=failed ]
       
       [Node list symbol=SEQ 
       
        [Node list symbol=LET 
        
         [Node list symbol=: symbol=cc 
         
          [Node list symbol=List 
          
           [Node list symbol=Mapping 
           
            [Node list symbol=Point 
            
             [Node list symbol=DoubleFloat ]
             ]
            
            [Node list symbol=Point 
            
             [Node list symbol=DoubleFloat ]
             ]
            ]
           ]
          ]
         
         [Node list symbol=construct 
         
          [Node list 
          
           [Node list symbol=Sel symbol=retract 
           
            [Node list symbol=AnyFunctions1 
            
             [Node list symbol=Mapping 
             
              [Node list symbol=Point 
              
               [Node list symbol=DoubleFloat ]
               ]
              
              [Node list symbol=Point 
              
               [Node list symbol=DoubleFloat ]
               ]
              ]
             ]
            ]
           
           [Node list symbol=:: symbol=c 
           
            [Node list symbol=Any ]
            ]
           ]
          ]
         ]
        
        [Node list symbol=exit int=1 
        
         [Node list symbol=LET symbol=fcn 
         
          [Node list symbol=construct 
          
           [Node list symbol=+-> symbol=x 
           
            [Node list 
            
             [Node list symbol=first symbol=cc ]
             
             [Node list symbol=x 
             
              [Node list symbol=first symbol=fcn ]
              ]
             ]
            ]
           ]
          ]
         ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= LET pl
    [Node list symbol=LET symbol=pl 
    
     [Node list symbol=pointPlot 
     
      [Node list symbol=first symbol=fcn ]
      
      [Node list symbol=normalize symbol=seg ]
      ]
     ]
    
   DEFSubnode:atts= oldAdaptive
    [Node list symbol=oldAdaptive 
    
     [Node list symbol=Sel symbol=setAdaptive 
     
      [Node list symbol=Plot ]
      ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=make_plot symbol=pl symbol=l ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF draw ppc seg l SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= ParametricPlaneCurve
    [Node list symbol=ParametricPlaneCurve 
    
     [Node list symbol=Mapping 
     
      [Node list symbol=DoubleFloat ]
      
      [Node list symbol=DoubleFloat ]
      ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET g
    [Node list symbol=LET symbol=g 
    
     [Node list symbol=makeObject symbol=ppc symbol=seg symbol=l ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=makeViewport2D symbol=g symbol=l ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF draw ppc seg draw ppc seg
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= ParametricPlaneCurve
    [Node list symbol=ParametricPlaneCurve 
    
     [Node list symbol=Mapping 
     
      [Node list symbol=DoubleFloat ]
      
      [Node list symbol=DoubleFloat ]
      ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= construct
    [Node list symbol=construct ]
    
   ]
   
  CAPSULEDef:
   [DEF makePt4 x y z c point
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=l 
     
      [Node list symbol=List 
      
       [Node list symbol=DoubleFloat ]
       ]
      ]
     
     [Node list symbol=construct symbol=x symbol=y symbol=z symbol=c ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEFatts= DEF x
    id x
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   ]
   
  CAPSULEDef:
   [DEFatts= DEF z
    zCoord x y z
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   ]
   
  CAPSULEDef:
   [DEF colorPoints llp func SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= REPEAT
    [Node list symbol=REPEAT 
    
     [Node list symbol=IN symbol=lp symbol=llp ]
     
     [Node list symbol=REPEAT 
     
      [Node list symbol=IN symbol=p symbol=lp ]
      
      [Node list symbol=LET 
      
       [Node list symbol=p int=4 ]
       
       [Node list symbol=func 
       
        [Node list symbol=p 
        
         [Node list symbol=One ]
         ]
        
        [Node list symbol=p int=2 ]
        
        [Node list symbol=p int=3 ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= exit 1 llp
    [Node list symbol=exit int=1 symbol=llp ]
    
   ]
   
  CAPSULEDef:
   [DEF makeObject psc seg l SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= ParametricSpaceCurve
    [Node list symbol=ParametricSpaceCurve 
    
     [Node list symbol=Mapping 
     
      [Node list symbol=DoubleFloat ]
      
      [Node list symbol=DoubleFloat ]
      ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET sp
    [Node list symbol=LET symbol=sp 
    
     [Node list symbol=space symbol=l ]
     ]
    
   DEFSubnode:atts= LET f
    [Node list symbol=LET symbol=f 
    
     [Node list symbol=coordinate symbol=psc 
     
      [Node list symbol=One ]
      ]
     ]
    
   DEFSubnode:atts= LET g
    [Node list symbol=LET symbol=g 
    
     [Node list symbol=coordinate symbol=psc int=2 ]
     ]
    
   DEFSubnode:atts= LET h
    [Node list symbol=LET symbol=h 
    
     [Node list symbol=coordinate symbol=psc int=3 ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=fcn 
     
      [Node list symbol=List 
      
       [Node list symbol=Mapping 
       
        [Node list symbol=Point 
        
         [Node list symbol=DoubleFloat ]
         ]
        
        [Node list symbol=DoubleFloat ]
        ]
       ]
      ]
     
     [Node list symbol=construct 
     
      [Node list symbol=+-> symbol=x 
      
       [Node list symbol=makePt4 
       
        [Node list symbol=myTrap1 symbol=f symbol=x ]
        
        [Node list symbol=myTrap1 symbol=g symbol=x ]
        
        [Node list symbol=myTrap1 symbol=h symbol=x ]
        
        [Node list symbol=myTrap1 symbol=id symbol=x ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= LET false
    [Node list symbol=LET symbol=false 
    
     [Node list symbol=: symbol=pointsColored? 
     
      [Node list symbol=Boolean ]
      ]
     ]
    
   DEFSubnode:atts= SEQ
    [Node list symbol=SEQ 
    
     [Node list symbol=LET symbol=c1 
     
      [Node list symbol=option symbol=l 
      
       [Node list symbol=QUOTE symbol=colorFunction1 ]
       ]
      ]
     
     [Node list symbol=exit int=1 
     
      [Node list symbol=IF symbol=noBranch 
      
       [Node list symbol=case symbol=c1 string=failed ]
       
       [Node list symbol=SEQ 
       
        [Node list symbol=LET symbol=pointsColored? symbol=true ]
        
        [Node list symbol=exit int=1 
        
         [Node list symbol=LET symbol=fcn 
         
          [Node list symbol=construct 
          
           [Node list symbol=+-> symbol=x 
           
            [Node list symbol=makePt4 
            
             [Node list symbol=myTrap1 symbol=f symbol=x ]
             
             [Node list symbol=myTrap1 symbol=g symbol=x ]
             
             [Node list symbol=myTrap1 symbol=h symbol=x ]
             
             [Node list symbol=x 
             
              [Node list 
              
               [Node list symbol=Sel symbol=retract 
               
                [Node list symbol=AnyFunctions1 
                
                 [Node list symbol=Mapping 
                 
                  [Node list symbol=DoubleFloat ]
                  
                  [Node list symbol=DoubleFloat ]
                  ]
                 ]
                ]
               
               [Node list symbol=:: symbol=c1 
               
                [Node list symbol=Any ]
                ]
               ]
              ]
             ]
            ]
           ]
          ]
         ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= SEQ
    [Node list symbol=SEQ 
    
     [Node list symbol=LET symbol=c 
     
      [Node list symbol=option symbol=l 
      
       [Node list symbol=QUOTE symbol=coordinates ]
       ]
      ]
     
     [Node list symbol=exit int=1 
     
      [Node list symbol=IF symbol=noBranch 
      
       [Node list symbol=case symbol=c string=failed ]
       
       [Node list symbol=SEQ 
       
        [Node list symbol=LET 
        
         [Node list symbol=: symbol=cc 
         
          [Node list symbol=List 
          
           [Node list symbol=Mapping 
           
            [Node list symbol=Point 
            
             [Node list symbol=DoubleFloat ]
             ]
            
            [Node list symbol=Point 
            
             [Node list symbol=DoubleFloat ]
             ]
            ]
           ]
          ]
         
         [Node list symbol=construct 
         
          [Node list 
          
           [Node list symbol=Sel symbol=retract 
           
            [Node list symbol=AnyFunctions1 
            
             [Node list symbol=Mapping 
             
              [Node list symbol=Point 
              
               [Node list symbol=DoubleFloat ]
               ]
              
              [Node list symbol=Point 
              
               [Node list symbol=DoubleFloat ]
               ]
              ]
             ]
            ]
           
           [Node list symbol=:: symbol=c 
           
            [Node list symbol=Any ]
            ]
           ]
          ]
         ]
        
        [Node list symbol=exit int=1 
        
         [Node list symbol=LET symbol=fcn 
         
          [Node list symbol=construct 
          
           [Node list symbol=+-> symbol=x 
           
            [Node list 
            
             [Node list symbol=first symbol=cc ]
             
             [Node list symbol=x 
             
              [Node list symbol=first symbol=fcn ]
              ]
             ]
            ]
           ]
          ]
         ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= LET pl
    [Node list symbol=LET symbol=pl 
    
     [Node list 
     
      [Node list symbol=Sel symbol=pointPlot 
      
       [Node list symbol=Plot3D ]
       ]
      
      [Node list symbol=first symbol=fcn ]
      
      [Node list symbol=normalize symbol=seg ]
      ]
     ]
    
   DEFSubnode:atts= LET s sp
    [Node list symbol=LET symbol=s symbol=sp ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=G821215 
     
      [Node list symbol=Boolean ]
      ]
     
     [Node list symbol=option? symbol=l 
     
      [Node list symbol=QUOTE symbol=tubeRadius ]
      ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=IF symbol=G821215 
     
      [Node list symbol=SEQ 
      
       [Node list symbol=LET symbol=pts 
       
        [Node list symbol=tubePoints symbol=l int=8 ]
        ]
       
       [Node list symbol=LET symbol=rad 
       
        [Node list symbol=@ 
        
         [Node list symbol=convert 
         
          [Node list symbol=tubeRadius symbol=l 
          
           [Node list int=25 int=-2 int=10 
           
            [Node list symbol=Sel symbol=float 
            
             [Node list symbol=Float ]
             ]
            ]
           ]
          ]
         
         [Node list symbol=DoubleFloat ]
         ]
        ]
       
       [Node list symbol=LET symbol=tub 
       
        [Node list symbol=pl symbol=rad symbol=pts 
        
         [Node list symbol=Sel symbol=tube 
         
          [Node list symbol=NumericTubePlot 
          
           [Node list symbol=Plot3D ]
           ]
          ]
         ]
        ]
       
       [Node list symbol=LET symbol=loops 
       
        [Node list symbol=listLoops symbol=tub ]
        ]
       
       [Node list symbol=IF symbol=pointsColored? symbol=noBranch 
       
        [Node list symbol=SEQ 
        
         [Node list symbol=LET symbol=c3 
         
          [Node list symbol=option symbol=l 
          
           [Node list symbol=QUOTE symbol=colorFunction3 ]
           ]
          ]
         
         [Node list symbol=exit int=1 
         
          [Node list symbol=IF 
          
           [Node list symbol=case symbol=c3 string=failed ]
           
           [Node list symbol=colorPoints symbol=loops symbol=zCoord ]
           
           [Node list symbol=colorPoints symbol=loops 
           
            [Node list 
            
             [Node list symbol=Sel symbol=retract 
             
              [Node list symbol=AnyFunctions1 
              
               [Node list symbol=Mapping 
               
                [Node list symbol=DoubleFloat ]
                
                [Node list symbol=DoubleFloat ]
                
                [Node list symbol=DoubleFloat ]
                
                [Node list symbol=DoubleFloat ]
                ]
               ]
              ]
             
             [Node list symbol=:: symbol=c3 
             
              [Node list symbol=Any ]
              ]
             ]
            ]
           ]
          ]
         ]
        ]
       
       [Node list symbol=mesh symbol=s symbol=loops symbol=false symbol=false ]
       
       [Node list symbol=exit int=1 symbol=s ]
       ]
      
      [Node list symbol=SEQ 
      
       [Node list symbol=LET symbol=br 
       
        [Node list symbol=listBranches symbol=pl ]
        ]
       
       [Node list symbol=REPEAT 
       
        [Node list symbol=IN symbol=b symbol=br ]
        
        [Node list symbol=curve symbol=s symbol=b ]
        ]
       
       [Node list symbol=exit int=1 symbol=s ]
       ]
      ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF makeObject psc seg l SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= Mapping
    [Node list symbol=Mapping 
    
     [Node list symbol=Point 
     
      [Node list symbol=DoubleFloat ]
      ]
     
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET sp
    [Node list symbol=LET symbol=sp 
    
     [Node list symbol=space symbol=l ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=fcn 
     
      [Node list symbol=List 
      
       [Node list symbol=Mapping 
       
        [Node list symbol=Point 
        
         [Node list symbol=DoubleFloat ]
         ]
        
        [Node list symbol=DoubleFloat ]
        ]
       ]
      ]
     
     [Node list symbol=construct symbol=psc ]
     ]
    
   DEFSubnode:atts= LET false
    [Node list symbol=LET symbol=false 
    
     [Node list symbol=: symbol=pointsColored? 
     
      [Node list symbol=Boolean ]
      ]
     ]
    
   DEFSubnode:atts= SEQ
    [Node list symbol=SEQ 
    
     [Node list symbol=LET symbol=c1 
     
      [Node list symbol=option symbol=l 
      
       [Node list symbol=QUOTE symbol=colorFunction1 ]
       ]
      ]
     
     [Node list symbol=exit int=1 
     
      [Node list symbol=IF symbol=noBranch 
      
       [Node list symbol=case symbol=c1 string=failed ]
       
       [Node list symbol=SEQ 
       
        [Node list symbol=LET symbol=pointsColored? symbol=true ]
        
        [Node list symbol=exit int=1 
        
         [Node list symbol=LET symbol=fcn 
         
          [Node list symbol=construct 
          
           [Node list symbol=+-> symbol=x 
           
            [Node list symbol=concat 
            
             [Node list symbol=psc symbol=x ]
             
             [Node list symbol=x 
             
              [Node list 
              
               [Node list symbol=Sel symbol=retract 
               
                [Node list symbol=AnyFunctions1 
                
                 [Node list symbol=Mapping 
                 
                  [Node list symbol=DoubleFloat ]
                  
                  [Node list symbol=DoubleFloat ]
                  ]
                 ]
                ]
               
               [Node list symbol=:: symbol=c1 
               
                [Node list symbol=Any ]
                ]
               ]
              ]
             ]
            ]
           ]
          ]
         ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= SEQ
    [Node list symbol=SEQ 
    
     [Node list symbol=LET symbol=c 
     
      [Node list symbol=option symbol=l 
      
       [Node list symbol=QUOTE symbol=coordinates ]
       ]
      ]
     
     [Node list symbol=exit int=1 
     
      [Node list symbol=IF symbol=noBranch 
      
       [Node list symbol=case symbol=c string=failed ]
       
       [Node list symbol=SEQ 
       
        [Node list symbol=LET 
        
         [Node list symbol=: symbol=cc 
         
          [Node list symbol=List 
          
           [Node list symbol=Mapping 
           
            [Node list symbol=Point 
            
             [Node list symbol=DoubleFloat ]
             ]
            
            [Node list symbol=Point 
            
             [Node list symbol=DoubleFloat ]
             ]
            ]
           ]
          ]
         
         [Node list symbol=construct 
         
          [Node list 
          
           [Node list symbol=Sel symbol=retract 
           
            [Node list symbol=AnyFunctions1 
            
             [Node list symbol=Mapping 
             
              [Node list symbol=Point 
              
               [Node list symbol=DoubleFloat ]
               ]
              
              [Node list symbol=Point 
              
               [Node list symbol=DoubleFloat ]
               ]
              ]
             ]
            ]
           
           [Node list symbol=:: symbol=c 
           
            [Node list symbol=Any ]
            ]
           ]
          ]
         ]
        
        [Node list symbol=exit int=1 
        
         [Node list symbol=LET symbol=fcn 
         
          [Node list symbol=construct 
          
           [Node list symbol=+-> symbol=x 
           
            [Node list 
            
             [Node list symbol=first symbol=cc ]
             
             [Node list symbol=x 
             
              [Node list symbol=first symbol=fcn ]
              ]
             ]
            ]
           ]
          ]
         ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= LET pl
    [Node list symbol=LET symbol=pl 
    
     [Node list 
     
      [Node list symbol=Sel symbol=pointPlot 
      
       [Node list symbol=Plot3D ]
       ]
      
      [Node list symbol=first symbol=fcn ]
      
      [Node list symbol=normalize symbol=seg ]
      ]
     ]
    
   DEFSubnode:atts= LET s sp
    [Node list symbol=LET symbol=s symbol=sp ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=G821216 
     
      [Node list symbol=Boolean ]
      ]
     
     [Node list symbol=option? symbol=l 
     
      [Node list symbol=QUOTE symbol=tubeRadius ]
      ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=IF symbol=G821216 
     
      [Node list symbol=SEQ 
      
       [Node list symbol=LET symbol=pts 
       
        [Node list symbol=tubePoints symbol=l int=8 ]
        ]
       
       [Node list symbol=LET symbol=rad 
       
        [Node list symbol=@ 
        
         [Node list symbol=convert 
         
          [Node list symbol=tubeRadius symbol=l 
          
           [Node list int=25 int=-2 int=10 
           
            [Node list symbol=Sel symbol=float 
            
             [Node list symbol=Float ]
             ]
            ]
           ]
          ]
         
         [Node list symbol=DoubleFloat ]
         ]
        ]
       
       [Node list symbol=LET symbol=tub 
       
        [Node list symbol=pl symbol=rad symbol=pts 
        
         [Node list symbol=Sel symbol=tube 
         
          [Node list symbol=NumericTubePlot 
          
           [Node list symbol=Plot3D ]
           ]
          ]
         ]
        ]
       
       [Node list symbol=LET symbol=loops 
       
        [Node list symbol=listLoops symbol=tub ]
        ]
       
       [Node list symbol=mesh symbol=s symbol=loops symbol=false symbol=false ]
       
       [Node list symbol=exit int=1 symbol=s ]
       ]
      
      [Node list symbol=SEQ 
      
       [Node list symbol=LET symbol=br 
       
        [Node list symbol=listBranches symbol=pl ]
        ]
       
       [Node list symbol=REPEAT 
       
        [Node list symbol=IN symbol=b symbol=br ]
        
        [Node list symbol=curve symbol=s symbol=b ]
        ]
       
       [Node list symbol=exit int=1 symbol=s ]
       ]
      ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF makeObject psc seg makeObject psc seg
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= ParametricSpaceCurve
    [Node list symbol=ParametricSpaceCurve 
    
     [Node list symbol=Mapping 
     
      [Node list symbol=DoubleFloat ]
      
      [Node list symbol=DoubleFloat ]
      ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= construct
    [Node list symbol=construct ]
    
   ]
   
  CAPSULEDef:
   [DEF makeObject psc seg makeObject psc seg
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= Mapping
    [Node list symbol=Mapping 
    
     [Node list symbol=Point 
     
      [Node list symbol=DoubleFloat ]
      ]
     
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= construct
    [Node list symbol=construct ]
    
   ]
   
  CAPSULEDef:
   [DEF draw psc seg l SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= ParametricSpaceCurve
    [Node list symbol=ParametricSpaceCurve 
    
     [Node list symbol=Mapping 
     
      [Node list symbol=DoubleFloat ]
      
      [Node list symbol=DoubleFloat ]
      ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET sp
    [Node list symbol=LET symbol=sp 
    
     [Node list symbol=makeObject symbol=psc symbol=seg symbol=l ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=makeViewport3D symbol=sp symbol=l ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF draw psc seg draw psc seg
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= ParametricSpaceCurve
    [Node list symbol=ParametricSpaceCurve 
    
     [Node list symbol=Mapping 
     
      [Node list symbol=DoubleFloat ]
      
      [Node list symbol=DoubleFloat ]
      ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= construct
    [Node list symbol=construct ]
    
   ]
   
  CAPSULEDef:
   [DEF draw psc seg l SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= Mapping
    [Node list symbol=Mapping 
    
     [Node list symbol=Point 
     
      [Node list symbol=DoubleFloat ]
      ]
     
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET sp
    [Node list symbol=LET symbol=sp 
    
     [Node list symbol=makeObject symbol=psc symbol=seg symbol=l ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=makeViewport3D symbol=sp symbol=l ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF draw psc seg draw psc seg
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= Mapping
    [Node list symbol=Mapping 
    
     [Node list symbol=Point 
     
      [Node list symbol=DoubleFloat ]
      ]
     
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= construct
    [Node list symbol=construct ]
    
   ]
   
  CAPSULEDef:
   [DEF myTrap2 ff u v SEQ
   DEFSubnode:atts= DoubleFloat
    [Node list symbol=DoubleFloat ]
    
   DEFSubnode:atts= Mapping
    [Node list symbol=Mapping 
    
     [Node list symbol=DoubleFloat ]
     
     [Node list symbol=DoubleFloat ]
     
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= DoubleFloat
    [Node list symbol=DoubleFloat ]
    
   DEFSubnode:atts= DoubleFloat
    [Node list symbol=DoubleFloat ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET s
    [Node list symbol=LET symbol=s 
    
     [Node list symbol=:: 
     
      [Node list 
      
       [Node list symbol=Sel symbol=Lisp symbol=trapNumericErrors ]
       
       [Node list symbol=ff symbol=u symbol=v ]
       ]
      
      [Node list symbol=Union string=failed 
      
       [Node list symbol=DoubleFloat ]
       ]
      ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=IF 
     
      [Node list symbol=case symbol=s string=failed ]
      
      [Node list symbol=Zero ]
      
      [Node list symbol=SEQ 
      
       [Node list symbol=LET 
       
        [Node list symbol=: symbol=r 
        
         [Node list symbol=DoubleFloat ]
         ]
        
        [Node list symbol=:: symbol=s 
        
         [Node list symbol=DoubleFloat ]
         ]
        ]
       
       [Node list symbol=exit int=1 
       
        [Node list symbol=IF 
        
         [Node list symbol=> symbol=r 
         
          [Node list 
          
           [Node list symbol=Sel symbol=max 
           
            [Node list symbol=DoubleFloat ]
            ]
           ]
          ]
         
         [Node list 
         
          [Node list symbol=Sel symbol=max 
          
           [Node list symbol=DoubleFloat ]
           ]
          ]
         
         [Node list symbol=IF symbol=r 
         
          [Node list symbol=< symbol=r 
          
           [Node list 
           
            [Node list symbol=Sel symbol=min 
            
             [Node list symbol=DoubleFloat ]
             ]
            ]
           ]
          
          [Node list 
          
           [Node list symbol=Sel symbol=min 
           
            [Node list symbol=DoubleFloat ]
            ]
           ]
          ]
         ]
        ]
       ]
      ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF recolor ptFunc colFunc +->
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= @Tuple f1 f2
    [Node list symbol=@Tuple symbol=f1 symbol=f2 ]
    
   DEFSubnode:atts= SEQ
    [Node list symbol=SEQ 
    
     [Node list symbol=LET symbol=pt 
     
      [Node list symbol=ptFunc symbol=f1 symbol=f2 ]
      ]
     
     [Node list symbol=LET 
     
      [Node list symbol=pt int=4 ]
      
      [Node list symbol=colFunc 
      
       [Node list symbol=pt 
       
        [Node list symbol=One ]
        ]
       
       [Node list symbol=pt int=2 ]
       
       [Node list symbol=pt int=3 ]
       ]
      ]
     
     [Node list symbol=exit int=1 symbol=pt ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEFatts= DEF x
    xCoord x y
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   ]
   
  CAPSULEDef:
   [DEF makeObject f xSeg ySeg l SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= Mapping
    [Node list symbol=Mapping 
    
     [Node list symbol=DoubleFloat ]
     
     [Node list symbol=DoubleFloat ]
     
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET sp
    [Node list symbol=LET symbol=sp 
    
     [Node list symbol=space symbol=l ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=col2 
     
      [Node list symbol=List 
      
       [Node list symbol=Mapping 
       
        [Node list symbol=DoubleFloat ]
        
        [Node list symbol=DoubleFloat ]
        
        [Node list symbol=DoubleFloat ]
        ]
       ]
      ]
     
     [Node list symbol=construct symbol=xCoord ]
     ]
    
   DEFSubnode:atts= LET false
    [Node list symbol=LET symbol=false 
    
     [Node list symbol=: symbol=pointsColored? 
     
      [Node list symbol=Boolean ]
      ]
     ]
    
   DEFSubnode:atts= SEQ
    [Node list symbol=SEQ 
    
     [Node list symbol=LET symbol=c2 
     
      [Node list symbol=option symbol=l 
      
       [Node list symbol=QUOTE symbol=colorFunction2 ]
       ]
      ]
     
     [Node list symbol=exit int=1 
     
      [Node list symbol=IF symbol=noBranch 
      
       [Node list symbol=case symbol=c2 string=failed ]
       
       [Node list symbol=SEQ 
       
        [Node list symbol=LET symbol=pointsColored? symbol=true ]
        
        [Node list symbol=exit int=1 
        
         [Node list symbol=LET symbol=col2 
         
          [Node list symbol=construct 
          
           [Node list 
           
            [Node list symbol=Sel symbol=retract 
            
             [Node list symbol=AnyFunctions1 
             
              [Node list symbol=Mapping 
              
               [Node list symbol=DoubleFloat ]
               
               [Node list symbol=DoubleFloat ]
               
               [Node list symbol=DoubleFloat ]
               ]
              ]
             ]
            
            [Node list symbol=:: symbol=c2 
            
             [Node list symbol=Any ]
             ]
            ]
           ]
          ]
         ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=fcn 
     
      [Node list symbol=List 
      
       [Node list symbol=Mapping 
       
        [Node list symbol=Point 
        
         [Node list symbol=DoubleFloat ]
         ]
        
        [Node list symbol=DoubleFloat ]
        
        [Node list symbol=DoubleFloat ]
        ]
       ]
      ]
     
     [Node list symbol=construct 
     
      [Node list symbol=+-> 
      
       [Node list symbol=@Tuple symbol=x symbol=y ]
       
       [Node list symbol=makePt4 symbol=x symbol=y 
       
        [Node list symbol=myTrap2 symbol=f symbol=x symbol=y ]
        
        [Node list symbol=x symbol=y 
        
         [Node list symbol=first symbol=col2 ]
         ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= SEQ
    [Node list symbol=SEQ 
    
     [Node list symbol=LET symbol=c 
     
      [Node list symbol=option symbol=l 
      
       [Node list symbol=QUOTE symbol=coordinates ]
       ]
      ]
     
     [Node list symbol=exit int=1 
     
      [Node list symbol=IF 
      
       [Node list symbol=case symbol=c string=failed ]
       
       [Node list symbol=LET symbol=fcn 
       
        [Node list symbol=construct 
        
         [Node list symbol=+-> 
         
          [Node list symbol=@Tuple symbol=x symbol=y ]
          
          [Node list symbol=makePt4 symbol=x symbol=y 
          
           [Node list symbol=myTrap2 symbol=f symbol=x symbol=y ]
           
           [Node list symbol=x symbol=y 
           
            [Node list symbol=first symbol=col2 ]
            ]
           ]
          ]
         ]
        ]
       
       [Node list symbol=SEQ 
       
        [Node list symbol=LET 
        
         [Node list symbol=: symbol=cc 
         
          [Node list symbol=List 
          
           [Node list symbol=Mapping 
           
            [Node list symbol=Point 
            
             [Node list symbol=DoubleFloat ]
             ]
            
            [Node list symbol=Point 
            
             [Node list symbol=DoubleFloat ]
             ]
            ]
           ]
          ]
         
         [Node list symbol=construct 
         
          [Node list 
          
           [Node list symbol=Sel symbol=retract 
           
            [Node list symbol=AnyFunctions1 
            
             [Node list symbol=Mapping 
             
              [Node list symbol=Point 
              
               [Node list symbol=DoubleFloat ]
               ]
              
              [Node list symbol=Point 
              
               [Node list symbol=DoubleFloat ]
               ]
              ]
             ]
            ]
           
           [Node list symbol=:: symbol=c 
           
            [Node list symbol=Any ]
            ]
           ]
          ]
         ]
        
        [Node list symbol=exit int=1 
        
         [Node list symbol=LET symbol=fcn 
         
          [Node list symbol=construct 
          
           [Node list symbol=+-> 
           
            [Node list symbol=@Tuple symbol=x symbol=y ]
            
            [Node list 
            
             [Node list symbol=first symbol=cc ]
             
             [Node list symbol=x symbol=y 
             
              [Node list symbol=first symbol=fcn ]
              ]
             ]
            ]
           ]
          ]
         ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= IF pointsColored? noBranch
    [Node list symbol=IF symbol=pointsColored? symbol=noBranch 
    
     [Node list symbol=SEQ 
     
      [Node list symbol=LET symbol=c 
      
       [Node list symbol=option symbol=l 
       
        [Node list symbol=QUOTE symbol=colorFunction3 ]
        ]
       ]
      
      [Node list symbol=exit int=1 
      
       [Node list symbol=LET symbol=fcn 
       
        [Node list symbol=IF 
        
         [Node list symbol=case symbol=c string=failed ]
         
         [Node list symbol=construct 
         
          [Node list symbol=recolor symbol=zCoord 
          
           [Node list symbol=first symbol=fcn ]
           ]
          ]
         
         [Node list symbol=construct 
         
          [Node list symbol=recolor 
          
           [Node list symbol=first symbol=fcn ]
           
           [Node list 
           
            [Node list symbol=Sel symbol=retract 
            
             [Node list symbol=AnyFunctions1 
             
              [Node list symbol=Mapping 
              
               [Node list symbol=DoubleFloat ]
               
               [Node list symbol=DoubleFloat ]
               
               [Node list symbol=DoubleFloat ]
               
               [Node list symbol=DoubleFloat ]
               ]
              ]
             ]
            
            [Node list symbol=:: symbol=c 
            
             [Node list symbol=Any ]
             ]
            ]
           ]
          ]
         ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= LET mesh
    [Node list symbol=LET symbol=mesh 
    
     [Node list symbol=meshPar2Var symbol=sp symbol=l 
     
      [Node list symbol=first symbol=fcn ]
      
      [Node list symbol=normalize symbol=xSeg ]
      
      [Node list symbol=normalize symbol=ySeg ]
      ]
     ]
    
   DEFSubnode:atts= exit 1 mesh
    [Node list symbol=exit int=1 symbol=mesh ]
    
   ]
   
  CAPSULEDef:
   [DEF makeObject f xSeg ySeg makeObject f xSeg ySeg
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= Mapping
    [Node list symbol=Mapping 
    
     [Node list symbol=DoubleFloat ]
     
     [Node list symbol=DoubleFloat ]
     
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= construct
    [Node list symbol=construct ]
    
   ]
   
  CAPSULEDef:
   [DEF draw f xSeg ySeg l SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= Mapping
    [Node list symbol=Mapping 
    
     [Node list symbol=DoubleFloat ]
     
     [Node list symbol=DoubleFloat ]
     
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET sp
    [Node list symbol=LET symbol=sp 
    
     [Node list symbol=makeObject symbol=f symbol=xSeg symbol=ySeg symbol=l ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=makeViewport3D symbol=sp symbol=l ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF draw f xSeg ySeg draw f xSeg ySeg
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= Mapping
    [Node list symbol=Mapping 
    
     [Node list symbol=DoubleFloat ]
     
     [Node list symbol=DoubleFloat ]
     
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= construct
    [Node list symbol=construct ]
    
   ]
   
  CAPSULEDef:
   [DEF makeObject s uSeg vSeg l SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= ParametricSurface
    [Node list symbol=ParametricSurface 
    
     [Node list symbol=Mapping 
     
      [Node list symbol=DoubleFloat ]
      
      [Node list symbol=DoubleFloat ]
      
      [Node list symbol=DoubleFloat ]
      ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET sp
    [Node list symbol=LET symbol=sp 
    
     [Node list symbol=space symbol=l ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=f 
     
      [Node list symbol=List 
      
       [Node list symbol=Mapping 
       
        [Node list symbol=DoubleFloat ]
        
        [Node list symbol=DoubleFloat ]
        
        [Node list symbol=DoubleFloat ]
        ]
       ]
      ]
     
     [Node list symbol=construct 
     
      [Node list symbol=coordinate symbol=s 
      
       [Node list symbol=One ]
       ]
      ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=g 
     
      [Node list symbol=List 
      
       [Node list symbol=Mapping 
       
        [Node list symbol=DoubleFloat ]
        
        [Node list symbol=DoubleFloat ]
        
        [Node list symbol=DoubleFloat ]
        ]
       ]
      ]
     
     [Node list symbol=construct 
     
      [Node list symbol=coordinate symbol=s int=2 ]
      ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=h 
     
      [Node list symbol=List 
      
       [Node list symbol=Mapping 
       
        [Node list symbol=DoubleFloat ]
        
        [Node list symbol=DoubleFloat ]
        
        [Node list symbol=DoubleFloat ]
        ]
       ]
      ]
     
     [Node list symbol=construct 
     
      [Node list symbol=coordinate symbol=s int=3 ]
      ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=col2 
     
      [Node list symbol=List 
      
       [Node list symbol=Mapping 
       
        [Node list symbol=DoubleFloat ]
        
        [Node list symbol=DoubleFloat ]
        
        [Node list symbol=DoubleFloat ]
        ]
       ]
      ]
     
     [Node list symbol=construct symbol=xCoord ]
     ]
    
   DEFSubnode:atts= LET false
    [Node list symbol=LET symbol=false 
    
     [Node list symbol=: symbol=pointsColored? 
     
      [Node list symbol=Boolean ]
      ]
     ]
    
   DEFSubnode:atts= SEQ
    [Node list symbol=SEQ 
    
     [Node list symbol=LET symbol=c2 
     
      [Node list symbol=option symbol=l 
      
       [Node list symbol=QUOTE symbol=colorFunction2 ]
       ]
      ]
     
     [Node list symbol=exit int=1 
     
      [Node list symbol=IF symbol=noBranch 
      
       [Node list symbol=case symbol=c2 string=failed ]
       
       [Node list symbol=SEQ 
       
        [Node list symbol=LET symbol=pointsColored? symbol=true ]
        
        [Node list symbol=exit int=1 
        
         [Node list symbol=LET symbol=col2 
         
          [Node list symbol=construct 
          
           [Node list 
           
            [Node list symbol=Sel symbol=retract 
            
             [Node list symbol=AnyFunctions1 
             
              [Node list symbol=Mapping 
              
               [Node list symbol=DoubleFloat ]
               
               [Node list symbol=DoubleFloat ]
               
               [Node list symbol=DoubleFloat ]
               ]
              ]
             ]
            
            [Node list symbol=:: symbol=c2 
            
             [Node list symbol=Any ]
             ]
            ]
           ]
          ]
         ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=fcn 
     
      [Node list symbol=List 
      
       [Node list symbol=Mapping 
       
        [Node list symbol=Point 
        
         [Node list symbol=DoubleFloat ]
         ]
        
        [Node list symbol=DoubleFloat ]
        
        [Node list symbol=DoubleFloat ]
        ]
       ]
      ]
     
     [Node list symbol=construct 
     
      [Node list symbol=+-> 
      
       [Node list symbol=@Tuple symbol=x symbol=y ]
       
       [Node list symbol=makePt4 
       
        [Node list symbol=myTrap2 symbol=x symbol=y 
        
         [Node list symbol=first symbol=f ]
         ]
        
        [Node list symbol=myTrap2 symbol=x symbol=y 
        
         [Node list symbol=first symbol=g ]
         ]
        
        [Node list symbol=myTrap2 symbol=x symbol=y 
        
         [Node list symbol=first symbol=h ]
         ]
        
        [Node list symbol=myTrap2 symbol=x symbol=y 
        
         [Node list symbol=first symbol=col2 ]
         ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= SEQ
    [Node list symbol=SEQ 
    
     [Node list symbol=LET symbol=c 
     
      [Node list symbol=option symbol=l 
      
       [Node list symbol=QUOTE symbol=coordinates ]
       ]
      ]
     
     [Node list symbol=exit int=1 
     
      [Node list symbol=IF symbol=noBranch 
      
       [Node list symbol=case symbol=c string=failed ]
       
       [Node list symbol=SEQ 
       
        [Node list symbol=LET 
        
         [Node list symbol=: symbol=cc 
         
          [Node list symbol=List 
          
           [Node list symbol=Mapping 
           
            [Node list symbol=Point 
            
             [Node list symbol=DoubleFloat ]
             ]
            
            [Node list symbol=Point 
            
             [Node list symbol=DoubleFloat ]
             ]
            ]
           ]
          ]
         
         [Node list symbol=construct 
         
          [Node list 
          
           [Node list symbol=Sel symbol=retract 
           
            [Node list symbol=AnyFunctions1 
            
             [Node list symbol=Mapping 
             
              [Node list symbol=Point 
              
               [Node list symbol=DoubleFloat ]
               ]
              
              [Node list symbol=Point 
              
               [Node list symbol=DoubleFloat ]
               ]
              ]
             ]
            ]
           
           [Node list symbol=:: symbol=c 
           
            [Node list symbol=Any ]
            ]
           ]
          ]
         ]
        
        [Node list symbol=exit int=1 
        
         [Node list symbol=LET symbol=fcn 
         
          [Node list symbol=construct 
          
           [Node list symbol=+-> 
           
            [Node list symbol=@Tuple symbol=x symbol=y ]
            
            [Node list 
            
             [Node list symbol=first symbol=cc ]
             
             [Node list symbol=x symbol=y 
             
              [Node list symbol=first symbol=fcn ]
              ]
             ]
            ]
           ]
          ]
         ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= IF pointsColored? noBranch
    [Node list symbol=IF symbol=pointsColored? symbol=noBranch 
    
     [Node list symbol=SEQ 
     
      [Node list symbol=LET 
      
       [Node list symbol=: symbol=col3 
       
        [Node list symbol=List 
        
         [Node list symbol=Mapping 
         
          [Node list symbol=DoubleFloat ]
          
          [Node list symbol=DoubleFloat ]
          
          [Node list symbol=DoubleFloat ]
          
          [Node list symbol=DoubleFloat ]
          ]
         ]
        ]
       
       [Node list symbol=construct symbol=zCoord ]
       ]
      
      [Node list symbol=SEQ 
      
       [Node list symbol=LET symbol=c 
       
        [Node list symbol=option symbol=l 
        
         [Node list symbol=QUOTE symbol=colorFunction3 ]
         ]
        ]
       
       [Node list symbol=exit int=1 
       
        [Node list symbol=IF symbol=noBranch 
        
         [Node list symbol=case symbol=c string=failed ]
         
         [Node list symbol=LET symbol=col3 
         
          [Node list symbol=construct 
          
           [Node list 
           
            [Node list symbol=Sel symbol=retract 
            
             [Node list symbol=AnyFunctions1 
             
              [Node list symbol=Mapping 
              
               [Node list symbol=DoubleFloat ]
               
               [Node list symbol=DoubleFloat ]
               
               [Node list symbol=DoubleFloat ]
               
               [Node list symbol=DoubleFloat ]
               ]
              ]
             ]
            
            [Node list symbol=:: symbol=c 
            
             [Node list symbol=Any ]
             ]
            ]
           ]
          ]
         ]
        ]
       ]
      
      [Node list symbol=exit int=1 
      
       [Node list symbol=LET symbol=fcn 
       
        [Node list symbol=construct 
        
         [Node list symbol=recolor 
         
          [Node list symbol=first symbol=fcn ]
          
          [Node list symbol=first symbol=col3 ]
          ]
         ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= LET mesh
    [Node list symbol=LET symbol=mesh 
    
     [Node list symbol=meshPar2Var symbol=sp symbol=l 
     
      [Node list symbol=first symbol=fcn ]
      
      [Node list symbol=normalize symbol=uSeg ]
      
      [Node list symbol=normalize symbol=vSeg ]
      ]
     ]
    
   DEFSubnode:atts= exit 1 mesh
    [Node list symbol=exit int=1 symbol=mesh ]
    
   ]
   
  CAPSULEDef:
   [DEF makeObject s uSeg vSeg l SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= Mapping
    [Node list symbol=Mapping 
    
     [Node list symbol=Point 
     
      [Node list symbol=DoubleFloat ]
      ]
     
     [Node list symbol=DoubleFloat ]
     
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET sp
    [Node list symbol=LET symbol=sp 
    
     [Node list symbol=space symbol=l ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=col2 
     
      [Node list symbol=List 
      
       [Node list symbol=Mapping 
       
        [Node list symbol=DoubleFloat ]
        
        [Node list symbol=DoubleFloat ]
        
        [Node list symbol=DoubleFloat ]
        ]
       ]
      ]
     
     [Node list symbol=construct symbol=xCoord ]
     ]
    
   DEFSubnode:atts= LET false
    [Node list symbol=LET symbol=false 
    
     [Node list symbol=: symbol=pointsColored? 
     
      [Node list symbol=Boolean ]
      ]
     ]
    
   DEFSubnode:atts= SEQ
    [Node list symbol=SEQ 
    
     [Node list symbol=LET symbol=c2 
     
      [Node list symbol=option symbol=l 
      
       [Node list symbol=QUOTE symbol=colorFunction2 ]
       ]
      ]
     
     [Node list symbol=exit int=1 
     
      [Node list symbol=IF symbol=noBranch 
      
       [Node list symbol=case symbol=c2 string=failed ]
       
       [Node list symbol=SEQ 
       
        [Node list symbol=LET symbol=pointsColored? symbol=true ]
        
        [Node list symbol=exit int=1 
        
         [Node list symbol=LET symbol=col2 
         
          [Node list symbol=construct 
          
           [Node list 
           
            [Node list symbol=Sel symbol=retract 
            
             [Node list symbol=AnyFunctions1 
             
              [Node list symbol=Mapping 
              
               [Node list symbol=DoubleFloat ]
               
               [Node list symbol=DoubleFloat ]
               
               [Node list symbol=DoubleFloat ]
               ]
              ]
             ]
            
            [Node list symbol=:: symbol=c2 
            
             [Node list symbol=Any ]
             ]
            ]
           ]
          ]
         ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=fcn 
     
      [Node list symbol=List 
      
       [Node list symbol=Mapping 
       
        [Node list symbol=Point 
        
         [Node list symbol=DoubleFloat ]
         ]
        
        [Node list symbol=DoubleFloat ]
        
        [Node list symbol=DoubleFloat ]
        ]
       ]
      ]
     
     [Node list symbol=IF symbol=pointsColored? 
     
      [Node list symbol=construct 
      
       [Node list symbol=+-> 
       
        [Node list symbol=@Tuple symbol=x symbol=y ]
        
        [Node list symbol=concat 
        
         [Node list symbol=s symbol=x symbol=y ]
         
         [Node list symbol=x symbol=y 
         
          [Node list symbol=first symbol=col2 ]
          ]
         ]
        ]
       ]
      
      [Node list symbol=construct symbol=s ]
      ]
     ]
    
   DEFSubnode:atts= SEQ
    [Node list symbol=SEQ 
    
     [Node list symbol=LET symbol=c 
     
      [Node list symbol=option symbol=l 
      
       [Node list symbol=QUOTE symbol=coordinates ]
       ]
      ]
     
     [Node list symbol=exit int=1 
     
      [Node list symbol=IF symbol=noBranch 
      
       [Node list symbol=case symbol=c string=failed ]
       
       [Node list symbol=SEQ 
       
        [Node list symbol=LET 
        
         [Node list symbol=: symbol=cc 
         
          [Node list symbol=List 
          
           [Node list symbol=Mapping 
           
            [Node list symbol=Point 
            
             [Node list symbol=DoubleFloat ]
             ]
            
            [Node list symbol=Point 
            
             [Node list symbol=DoubleFloat ]
             ]
            ]
           ]
          ]
         
         [Node list symbol=construct 
         
          [Node list 
          
           [Node list symbol=Sel symbol=retract 
           
            [Node list symbol=AnyFunctions1 
            
             [Node list symbol=Mapping 
             
              [Node list symbol=Point 
              
               [Node list symbol=DoubleFloat ]
               ]
              
              [Node list symbol=Point 
              
               [Node list symbol=DoubleFloat ]
               ]
              ]
             ]
            ]
           
           [Node list symbol=:: symbol=c 
           
            [Node list symbol=Any ]
            ]
           ]
          ]
         ]
        
        [Node list symbol=exit int=1 
        
         [Node list symbol=LET symbol=fcn 
         
          [Node list symbol=construct 
          
           [Node list symbol=+-> 
           
            [Node list symbol=@Tuple symbol=x symbol=y ]
            
            [Node list 
            
             [Node list symbol=first symbol=cc ]
             
             [Node list symbol=x symbol=y 
             
              [Node list symbol=first symbol=fcn ]
              ]
             ]
            ]
           ]
          ]
         ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= LET mesh
    [Node list symbol=LET symbol=mesh 
    
     [Node list symbol=meshPar2Var symbol=sp symbol=l 
     
      [Node list symbol=first symbol=fcn ]
      
      [Node list symbol=normalize symbol=uSeg ]
      
      [Node list symbol=normalize symbol=vSeg ]
      ]
     ]
    
   DEFSubnode:atts= exit 1 mesh
    [Node list symbol=exit int=1 symbol=mesh ]
    
   ]
   
  CAPSULEDef:
   [DEF makeObject s uSeg vSeg makeObject s uSeg vSeg
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= ParametricSurface
    [Node list symbol=ParametricSurface 
    
     [Node list symbol=Mapping 
     
      [Node list symbol=DoubleFloat ]
      
      [Node list symbol=DoubleFloat ]
      
      [Node list symbol=DoubleFloat ]
      ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= construct
    [Node list symbol=construct ]
    
   ]
   
  CAPSULEDef:
   [DEF draw s uSeg vSeg l SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= ParametricSurface
    [Node list symbol=ParametricSurface 
    
     [Node list symbol=Mapping 
     
      [Node list symbol=DoubleFloat ]
      
      [Node list symbol=DoubleFloat ]
      
      [Node list symbol=DoubleFloat ]
      ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET mesh
    [Node list symbol=LET symbol=mesh 
    
     [Node list symbol=makeObject symbol=s symbol=uSeg symbol=vSeg symbol=l ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=makeViewport3D symbol=mesh symbol=l ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF draw s uSeg vSeg draw s uSeg vSeg
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= ParametricSurface
    [Node list symbol=ParametricSurface 
    
     [Node list symbol=Mapping 
     
      [Node list symbol=DoubleFloat ]
      
      [Node list symbol=DoubleFloat ]
      
      [Node list symbol=DoubleFloat ]
      ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= construct
    [Node list symbol=construct ]
    
   ]
   
  CAPSULEDef:
   [DEF makeObject s uSeg vSeg makeObject s uSeg vSeg
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= Mapping
    [Node list symbol=Mapping 
    
     [Node list symbol=Point 
     
      [Node list symbol=DoubleFloat ]
      ]
     
     [Node list symbol=DoubleFloat ]
     
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= construct
    [Node list symbol=construct ]
    
   ]
   
  CAPSULEDef:
   [DEF draw s uSeg vSeg l SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= Mapping
    [Node list symbol=Mapping 
    
     [Node list symbol=Point 
     
      [Node list symbol=DoubleFloat ]
      ]
     
     [Node list symbol=DoubleFloat ]
     
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET mesh
    [Node list symbol=LET symbol=mesh 
    
     [Node list symbol=makeObject symbol=s symbol=uSeg symbol=vSeg symbol=l ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=makeViewport3D symbol=mesh symbol=l ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF draw s uSeg vSeg draw s uSeg vSeg
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= Mapping
    [Node list symbol=Mapping 
    
     [Node list symbol=Point 
     
      [Node list symbol=DoubleFloat ]
      ]
     
     [Node list symbol=DoubleFloat ]
     
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= Segment
    [Node list symbol=Segment 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= construct
    [Node list symbol=construct ]
    
   ]
   
  ]
  
 DEFSubnode:atts=
  [Node list ]
  
 ]
 
 [DEF TopLevelDrawFunctions Ex
 DEFCategories:
  [CATEGORY  package
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:TwoDimensionalViewport 
   SegmentBinding Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:TwoDimensionalViewport 
   SegmentBinding Float 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  makeObject
   SIGNATURE params:GraphImage 
   SegmentBinding Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:TwoDimensionalViewport 
   ParametricPlaneCurve Ex 
   SegmentBinding Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:TwoDimensionalViewport 
   ParametricPlaneCurve Ex 
   SegmentBinding Float 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  makeObject
   SIGNATURE params:GraphImage 
   ParametricPlaneCurve Ex 
   SegmentBinding Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:ThreeDimensionalViewport 
   ParametricSpaceCurve Ex 
   SegmentBinding Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:ThreeDimensionalViewport 
   ParametricSpaceCurve Ex 
   SegmentBinding Float 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  makeObject
   SIGNATURE params:ThreeSpace DoubleFloat 
   ParametricSpaceCurve Ex 
   SegmentBinding Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  makeObject
   SIGNATURE params:ThreeSpace DoubleFloat 
   ParametricSpaceCurve Ex 
   SegmentBinding Float 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:ThreeDimensionalViewport 
   SegmentBinding Float 
   SegmentBinding Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:ThreeDimensionalViewport 
   SegmentBinding Float 
   SegmentBinding Float 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  makeObject
   SIGNATURE params:ThreeSpace DoubleFloat 
   SegmentBinding Float 
   SegmentBinding Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  makeObject
   SIGNATURE params:ThreeSpace DoubleFloat 
   SegmentBinding Float 
   SegmentBinding Float 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:ThreeDimensionalViewport 
   ParametricSurface Ex 
   SegmentBinding Float 
   SegmentBinding Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:ThreeDimensionalViewport 
   ParametricSurface Ex 
   SegmentBinding Float 
   SegmentBinding Float 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  makeObject
   SIGNATURE params:ThreeSpace DoubleFloat 
   ParametricSurface Ex 
   SegmentBinding Float 
   SegmentBinding Float 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  makeObject
   SIGNATURE params:ThreeSpace DoubleFloat 
   ParametricSurface Ex 
   SegmentBinding Float 
   SegmentBinding Float 
   
   ]
   
  ]
  
 DEFCapsule:
  [CAPSULE CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=TopLevelDrawFunctionsForCompiledFunctions ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=MakeFloatCompiledFunction symbol=Ex ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=ParametricPlaneCurve 
    
     [Node list symbol=Mapping 
     
      [Node list symbol=DoubleFloat ]
      
      [Node list symbol=DoubleFloat ]
      ]
     ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=ParametricSpaceCurve 
    
     [Node list symbol=Mapping 
     
      [Node list symbol=DoubleFloat ]
      
      [Node list symbol=DoubleFloat ]
      ]
     ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=ParametricSurface 
    
     [Node list symbol=Mapping 
     
      [Node list symbol=DoubleFloat ]
      
      [Node list symbol=DoubleFloat ]
      
      [Node list symbol=DoubleFloat ]
      ]
     ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=ThreeSpace 
    
     [Node list symbol=DoubleFloat ]
     ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=Integer ]
    ]
   
  CAPSULEDef:
   [DEF makeObject f bind l Ex makeObject l
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= makeFloatFunction f
    [Node list symbol=makeFloatFunction symbol=f 
    
     [Node list symbol=variable symbol=bind ]
     ]
    
   DEFSubnode:atts= segment bind
    [Node list symbol=segment symbol=bind ]
    
   ]
   
  CAPSULEDef:
   [DEF maybe_add_title0 f l s0 Ex SEQ
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts= String
    [Node list symbol=String ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=G826629 
     
      [Node list symbol=Boolean ]
      ]
     
     [Node list symbol=option? symbol=l 
     
      [Node list symbol=QUOTE symbol=title ]
      ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=IF symbol=G826629 symbol=l 
     
      [Node list symbol=SEQ 
      
       [Node list symbol=LET 
       
        [Node list symbol=: symbol=s 
        
         [Node list symbol=String ]
         ]
        
        [Node list 
        
         [Node list symbol=Sel symbol=unparse 
         
          [Node list symbol=InputForm ]
          ]
         
         [Node list symbol=convert symbol=f ]
         ]
        ]
       
       [Node list symbol=LET 
       
        [Node list symbol=: symbol=G826630 
        
         [Node list symbol=Boolean ]
         ]
        
        [Node list symbol=> int=50 
        
         [Node list symbol=s 
         
          [Node list symbol=Sel symbol=sayLength 
          
           [Node list symbol=DisplayPackage ]
           ]
          ]
         ]
        ]
       
       [Node list symbol=exit int=1 
       
        [Node list symbol=IF symbol=G826630 
        
         [Node list symbol=concat symbol=l 
         
          [Node list symbol=title symbol=s0 ]
          ]
         
         [Node list symbol=concat symbol=l 
         
          [Node list symbol=title symbol=s ]
          ]
         ]
        ]
       ]
      ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF maybe_add_title2D f l Ex maybe_add_title0 f l FriCAS2D
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   ]
   
  CAPSULEDef:
   [DEF maybe_add_title3D f l Ex maybe_add_title0 f l FriCAS3D
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   ]
   
  CAPSULEDef:
   [DEF draw f bind l Ex SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET l
    [Node list symbol=LET symbol=l 
    
     [Node list symbol=maybe_add_title2D symbol=f symbol=l ]
     ]
    
   DEFSubnode:atts= LET g
    [Node list symbol=LET symbol=g 
    
     [Node list symbol=makeObject symbol=f symbol=bind symbol=l ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=makeViewport2D symbol=g symbol=l ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF draw f bind Ex draw f bind
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= construct
    [Node list symbol=construct ]
    
   ]
   
  CAPSULEDef:
   [DEF makeObject ppc bind l SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= ParametricPlaneCurve Ex
    [Node list symbol=ParametricPlaneCurve symbol=Ex ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET f
    [Node list symbol=LET symbol=f 
    
     [Node list symbol=coordinate symbol=ppc 
     
      [Node list symbol=One ]
      ]
     ]
    
   DEFSubnode:atts= LET g
    [Node list symbol=LET symbol=g 
    
     [Node list symbol=coordinate symbol=ppc int=2 ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=curve 
     
      [Node list symbol=ParametricPlaneCurve 
      
       [Node list symbol=Mapping 
       
        [Node list symbol=DoubleFloat ]
        
        [Node list symbol=DoubleFloat ]
        ]
       ]
      ]
     
     [Node list 
     
      [Node list symbol=Sel symbol=curve 
      
       [Node list symbol=ParametricPlaneCurve 
       
        [Node list symbol=Mapping 
        
         [Node list symbol=DoubleFloat ]
         
         [Node list symbol=DoubleFloat ]
         ]
        ]
       ]
      
      [Node list symbol=makeFloatFunction symbol=f 
      
       [Node list symbol=variable symbol=bind ]
       ]
      
      [Node list symbol=makeFloatFunction symbol=g 
      
       [Node list symbol=variable symbol=bind ]
       ]
      ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=makeObject symbol=curve symbol=l 
     
      [Node list symbol=segment symbol=bind ]
      ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF draw ppc bind l SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= ParametricPlaneCurve Ex
    [Node list symbol=ParametricPlaneCurve symbol=Ex ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET f
    [Node list symbol=LET symbol=f 
    
     [Node list symbol=coordinate symbol=ppc 
     
      [Node list symbol=One ]
      ]
     ]
    
   DEFSubnode:atts= LET l
    [Node list symbol=LET symbol=l 
    
     [Node list symbol=maybe_add_title2D symbol=f symbol=l ]
     ]
    
   DEFSubnode:atts= LET g
    [Node list symbol=LET symbol=g 
    
     [Node list symbol=makeObject symbol=ppc symbol=bind symbol=l ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=makeViewport2D symbol=g symbol=l ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF draw ppc bind draw ppc bind
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= ParametricPlaneCurve Ex
    [Node list symbol=ParametricPlaneCurve symbol=Ex ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= construct
    [Node list symbol=construct ]
    
   ]
   
  CAPSULEDef:
   [DEF makeObject psc tBind l SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= ParametricSpaceCurve Ex
    [Node list symbol=ParametricSpaceCurve symbol=Ex ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET t
    [Node list symbol=LET symbol=t 
    
     [Node list symbol=variable symbol=tBind ]
     ]
    
   DEFSubnode:atts= LET tSeg
    [Node list symbol=LET symbol=tSeg 
    
     [Node list symbol=segment symbol=tBind ]
     ]
    
   DEFSubnode:atts= LET f
    [Node list symbol=LET symbol=f 
    
     [Node list symbol=coordinate symbol=psc 
     
      [Node list symbol=One ]
      ]
     ]
    
   DEFSubnode:atts= LET g
    [Node list symbol=LET symbol=g 
    
     [Node list symbol=coordinate symbol=psc int=2 ]
     ]
    
   DEFSubnode:atts= LET h
    [Node list symbol=LET symbol=h 
    
     [Node list symbol=coordinate symbol=psc int=3 ]
     ]
    
   DEFSubnode:atts= LET l
    [Node list symbol=LET symbol=l 
    
     [Node list symbol=maybe_add_title3D symbol=f symbol=l ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=curve 
     
      [Node list symbol=ParametricSpaceCurve 
      
       [Node list symbol=Mapping 
       
        [Node list symbol=DoubleFloat ]
        
        [Node list symbol=DoubleFloat ]
        ]
       ]
      ]
     
     [Node list symbol=curve 
     
      [Node list symbol=makeFloatFunction symbol=f symbol=t ]
      
      [Node list symbol=makeFloatFunction symbol=g symbol=t ]
      
      [Node list symbol=makeFloatFunction symbol=h symbol=t ]
      ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=makeObject symbol=curve symbol=tSeg symbol=l ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF makeObject psc tBind makeObject psc tBind
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= ParametricSpaceCurve Ex
    [Node list symbol=ParametricSpaceCurve symbol=Ex ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= construct
    [Node list symbol=construct ]
    
   ]
   
  CAPSULEDef:
   [DEF draw psc tBind l SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= ParametricSpaceCurve Ex
    [Node list symbol=ParametricSpaceCurve symbol=Ex ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET t
    [Node list symbol=LET symbol=t 
    
     [Node list symbol=variable symbol=tBind ]
     ]
    
   DEFSubnode:atts= LET tSeg
    [Node list symbol=LET symbol=tSeg 
    
     [Node list symbol=segment symbol=tBind ]
     ]
    
   DEFSubnode:atts= LET f
    [Node list symbol=LET symbol=f 
    
     [Node list symbol=coordinate symbol=psc 
     
      [Node list symbol=One ]
      ]
     ]
    
   DEFSubnode:atts= LET g
    [Node list symbol=LET symbol=g 
    
     [Node list symbol=coordinate symbol=psc int=2 ]
     ]
    
   DEFSubnode:atts= LET h
    [Node list symbol=LET symbol=h 
    
     [Node list symbol=coordinate symbol=psc int=3 ]
     ]
    
   DEFSubnode:atts= LET l
    [Node list symbol=LET symbol=l 
    
     [Node list symbol=maybe_add_title3D symbol=f symbol=l ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=curve 
     
      [Node list symbol=ParametricSpaceCurve 
      
       [Node list symbol=Mapping 
       
        [Node list symbol=DoubleFloat ]
        
        [Node list symbol=DoubleFloat ]
        ]
       ]
      ]
     
     [Node list symbol=curve 
     
      [Node list symbol=makeFloatFunction symbol=f symbol=t ]
      
      [Node list symbol=makeFloatFunction symbol=g symbol=t ]
      
      [Node list symbol=makeFloatFunction symbol=h symbol=t ]
      ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=draw symbol=curve symbol=tSeg symbol=l ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF draw psc tBind draw psc tBind
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= ParametricSpaceCurve Ex
    [Node list symbol=ParametricSpaceCurve symbol=Ex ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= construct
    [Node list symbol=construct ]
    
   ]
   
  CAPSULEDef:
   [DEF makeObject f xBind yBind l Ex SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET l
    [Node list symbol=LET symbol=l 
    
     [Node list symbol=maybe_add_title3D symbol=f symbol=l ]
     ]
    
   DEFSubnode:atts= LET x
    [Node list symbol=LET symbol=x 
    
     [Node list symbol=variable symbol=xBind ]
     ]
    
   DEFSubnode:atts= LET xSeg
    [Node list symbol=LET symbol=xSeg 
    
     [Node list symbol=segment symbol=xBind ]
     ]
    
   DEFSubnode:atts= LET y
    [Node list symbol=LET symbol=y 
    
     [Node list symbol=variable symbol=yBind ]
     ]
    
   DEFSubnode:atts= LET ySeg
    [Node list symbol=LET symbol=ySeg 
    
     [Node list symbol=segment symbol=yBind ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=makeObject symbol=xSeg symbol=ySeg symbol=l 
     
      [Node list symbol=makeFloatFunction symbol=f symbol=x symbol=y ]
      ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF makeObject f xBind yBind Ex makeObject f xBind yBind
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= construct
    [Node list symbol=construct ]
    
   ]
   
  CAPSULEDef:
   [DEF draw f xBind yBind l Ex SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET l
    [Node list symbol=LET symbol=l 
    
     [Node list symbol=maybe_add_title3D symbol=f symbol=l ]
     ]
    
   DEFSubnode:atts= LET x
    [Node list symbol=LET symbol=x 
    
     [Node list symbol=variable symbol=xBind ]
     ]
    
   DEFSubnode:atts= LET xSeg
    [Node list symbol=LET symbol=xSeg 
    
     [Node list symbol=segment symbol=xBind ]
     ]
    
   DEFSubnode:atts= LET y
    [Node list symbol=LET symbol=y 
    
     [Node list symbol=variable symbol=yBind ]
     ]
    
   DEFSubnode:atts= LET ySeg
    [Node list symbol=LET symbol=ySeg 
    
     [Node list symbol=segment symbol=yBind ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=draw symbol=xSeg symbol=ySeg symbol=l 
     
      [Node list symbol=makeFloatFunction symbol=f symbol=x symbol=y ]
      ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF draw f xBind yBind Ex draw f xBind yBind
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= construct
    [Node list symbol=construct ]
    
   ]
   
  CAPSULEDef:
   [DEF makeObject s uBind vBind l SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= ParametricSurface Ex
    [Node list symbol=ParametricSurface symbol=Ex ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET f
    [Node list symbol=LET symbol=f 
    
     [Node list symbol=coordinate symbol=s 
     
      [Node list symbol=One ]
      ]
     ]
    
   DEFSubnode:atts= LET g
    [Node list symbol=LET symbol=g 
    
     [Node list symbol=coordinate symbol=s int=2 ]
     ]
    
   DEFSubnode:atts= LET h
    [Node list symbol=LET symbol=h 
    
     [Node list symbol=coordinate symbol=s int=3 ]
     ]
    
   DEFSubnode:atts= LET l
    [Node list symbol=LET symbol=l 
    
     [Node list symbol=maybe_add_title3D symbol=f symbol=l ]
     ]
    
   DEFSubnode:atts= LET u
    [Node list symbol=LET symbol=u 
    
     [Node list symbol=variable symbol=uBind ]
     ]
    
   DEFSubnode:atts= LET uSeg
    [Node list symbol=LET symbol=uSeg 
    
     [Node list symbol=segment symbol=uBind ]
     ]
    
   DEFSubnode:atts= LET v
    [Node list symbol=LET symbol=v 
    
     [Node list symbol=variable symbol=vBind ]
     ]
    
   DEFSubnode:atts= LET vSeg
    [Node list symbol=LET symbol=vSeg 
    
     [Node list symbol=segment symbol=vBind ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=surf 
     
      [Node list symbol=ParametricSurface 
      
       [Node list symbol=Mapping 
       
        [Node list symbol=DoubleFloat ]
        
        [Node list symbol=DoubleFloat ]
        
        [Node list symbol=DoubleFloat ]
        ]
       ]
      ]
     
     [Node list symbol=surface 
     
      [Node list symbol=makeFloatFunction symbol=f symbol=u symbol=v ]
      
      [Node list symbol=makeFloatFunction symbol=g symbol=u symbol=v ]
      
      [Node list symbol=makeFloatFunction symbol=h symbol=u symbol=v ]
      ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=makeObject symbol=surf symbol=uSeg symbol=vSeg symbol=l ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF makeObject s uBind vBind makeObject s uBind vBind
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= ParametricSurface Ex
    [Node list symbol=ParametricSurface symbol=Ex ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= construct
    [Node list symbol=construct ]
    
   ]
   
  CAPSULEDef:
   [DEF draw s uBind vBind l SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= ParametricSurface Ex
    [Node list symbol=ParametricSurface symbol=Ex ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET f
    [Node list symbol=LET symbol=f 
    
     [Node list symbol=coordinate symbol=s 
     
      [Node list symbol=One ]
      ]
     ]
    
   DEFSubnode:atts= LET g
    [Node list symbol=LET symbol=g 
    
     [Node list symbol=coordinate symbol=s int=2 ]
     ]
    
   DEFSubnode:atts= LET h
    [Node list symbol=LET symbol=h 
    
     [Node list symbol=coordinate symbol=s int=3 ]
     ]
    
   DEFSubnode:atts= LET l
    [Node list symbol=LET symbol=l 
    
     [Node list symbol=maybe_add_title3D symbol=f symbol=l ]
     ]
    
   DEFSubnode:atts= LET u
    [Node list symbol=LET symbol=u 
    
     [Node list symbol=variable symbol=uBind ]
     ]
    
   DEFSubnode:atts= LET uSeg
    [Node list symbol=LET symbol=uSeg 
    
     [Node list symbol=segment symbol=uBind ]
     ]
    
   DEFSubnode:atts= LET v
    [Node list symbol=LET symbol=v 
    
     [Node list symbol=variable symbol=vBind ]
     ]
    
   DEFSubnode:atts= LET vSeg
    [Node list symbol=LET symbol=vSeg 
    
     [Node list symbol=segment symbol=vBind ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=surf 
     
      [Node list symbol=ParametricSurface 
      
       [Node list symbol=Mapping 
       
        [Node list symbol=DoubleFloat ]
        
        [Node list symbol=DoubleFloat ]
        
        [Node list symbol=DoubleFloat ]
        ]
       ]
      ]
     
     [Node list symbol=surface 
     
      [Node list symbol=makeFloatFunction symbol=f symbol=u symbol=v ]
      
      [Node list symbol=makeFloatFunction symbol=g symbol=u symbol=v ]
      
      [Node list symbol=makeFloatFunction symbol=h symbol=u symbol=v ]
      ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=draw symbol=surf symbol=uSeg symbol=vSeg symbol=l ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF draw s uBind vBind draw s uBind vBind
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= ParametricSurface Ex
    [Node list symbol=ParametricSurface symbol=Ex ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts= SegmentBinding
    [Node list symbol=SegmentBinding 
    
     [Node list symbol=Float ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= construct
    [Node list symbol=construct ]
    
   ]
   
  ]
  
 DEFSubnode:atts= Join
  [Node list symbol=Join 
  
   [Node list symbol=ConvertibleTo 
   
    [Node list symbol=InputForm ]
    ]
   
   [Node list symbol=SetCategory ]
   ]
  
 DEFSubnode:atts=
  [Node list ]
  
 DEFSubnode:atts=
  [Node list ]
  
 ]
 
 [DEF TopLevelDrawFunctionsForAlgebraicCurves R Ex
 DEFCategories:
  [CATEGORY  package
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:TwoDimensionalViewport 
   Equation Ex 
   Symbol 
   Symbol 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  makeObject
   SIGNATURE params:GraphImage 
   Equation Ex 
   Symbol 
   Symbol 
   List DrawOption 
   
   ]
   
  ]
  
 DEFCapsule:
  [CAPSULE CAPSULEFnType:
   [FnType   drawToScaleRanges
   FnType  params:List Segment Float 
   Segment Float 
   Segment Float 
   
   ]
   
  CAPSULEFnType:
   [FnType   intConvert
   FnType  params:Integer 
   
   ]
   
  CAPSULEFnType:
   [FnType   polyEquation
   FnType  params:Polynomial Integer 
   Equation Ex 
   
   ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=ViewportPackage ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=PlaneAlgebraicCurvePlot ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=ViewDefaultsPackage ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=GraphicsDefaults ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=DrawOptionFunctions0 ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=SegmentFunctions2 
    
     [Node list symbol=Fraction 
     
      [Node list symbol=Integer ]
      ]
     
     [Node list symbol=Float ]
     ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=SegmentFunctions2 
    
     [Node list symbol=Float ]
     
     [Node list symbol=Fraction 
     
      [Node list symbol=Integer ]
      ]
     ]
    ]
   
  CAPSULEOther:
   [Node list symbol=import 
   
    [Node list symbol=AnyFunctions1 
    
     [Node list symbol=List 
     
      [Node list symbol=Segment 
      
       [Node list symbol=Fraction 
       
        [Node list symbol=Integer ]
        ]
       ]
      ]
     ]
    ]
   
  CAPSULEDef:
   [DEF drawToScaleRanges xVals yVals SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET xHi
    [Node list symbol=LET symbol=xHi 
    
     [Node list symbol=high symbol=xVals ]
     ]
    
   DEFSubnode:atts= LET xLo
    [Node list symbol=LET symbol=xLo 
    
     [Node list symbol=low symbol=xVals ]
     ]
    
   DEFSubnode:atts= LET yHi
    [Node list symbol=LET symbol=yHi 
    
     [Node list symbol=high symbol=yVals ]
     ]
    
   DEFSubnode:atts= LET yLo
    [Node list symbol=LET symbol=yLo 
    
     [Node list symbol=low symbol=yVals ]
     ]
    
   DEFSubnode:atts= LET xDiff
    [Node list symbol=LET symbol=xDiff 
    
     [Node list symbol=- symbol=xHi symbol=xLo ]
     ]
    
   DEFSubnode:atts= LET yDiff
    [Node list symbol=LET symbol=yDiff 
    
     [Node list symbol=- symbol=yHi symbol=yLo ]
     ]
    
   DEFSubnode:atts= LET pad
    [Node list symbol=LET symbol=pad 
    
     [Node list symbol=/ int=2 
     
      [Node list symbol=abs 
      
       [Node list symbol=- symbol=yDiff symbol=xDiff ]
       ]
      ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=IF 
     
      [Node list symbol=> symbol=yDiff symbol=xDiff ]
      
      [Node list symbol=construct symbol=yVals 
      
       [Node list symbol=segment 
       
        [Node list symbol=- symbol=xLo symbol=pad ]
        
        [Node list symbol=+ symbol=xHi symbol=pad ]
        ]
       ]
      
      [Node list symbol=construct symbol=xVals 
      
       [Node list symbol=segment 
       
        [Node list symbol=- symbol=yLo symbol=pad ]
        
        [Node list symbol=+ symbol=yHi symbol=pad ]
        ]
       ]
      ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF intConvert r SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET nn
    [Node list symbol=LET symbol=nn 
    
     [Node list symbol=@ 
     
      [Node list symbol=retractIfCan symbol=r ]
      
      [Node list symbol=Union string=failed 
      
       [Node list symbol=Integer ]
       ]
      ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=IF 
     
      [Node list symbol=case symbol=nn string=failed ]
      
      [Node list symbol=error string=draw: polynomial must have rational coefficients ]
      
      [Node list symbol=:: symbol=nn 
      
       [Node list symbol=Integer ]
       ]
      ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF polyEquation eq SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET ff
    [Node list symbol=LET symbol=ff 
    
     [Node list symbol=- 
     
      [Node list symbol=lhs symbol=eq ]
      
      [Node list symbol=rhs symbol=eq ]
      ]
     ]
    
   DEFSubnode:atts= LET r
    [Node list symbol=LET symbol=r 
    
     [Node list symbol=@ 
     
      [Node list symbol=retractIfCan symbol=ff ]
      
      [Node list symbol=Union string=failed 
      
       [Node list symbol=Fraction 
       
        [Node list symbol=Polynomial symbol=R ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=IF 
     
      [Node list symbol=case symbol=r string=failed ]
      
      [Node list symbol=error string=draw: not a polynomial equation ]
      
      [Node list symbol=SEQ 
      
       [Node list symbol=LET symbol=rat 
       
        [Node list symbol=:: symbol=r 
        
         [Node list symbol=Fraction 
         
          [Node list symbol=Polynomial symbol=R ]
          ]
         ]
        ]
       
       [Node list symbol=LET 
       
        [Node list symbol=: symbol=G826694 
        
         [Node list symbol=Boolean ]
         ]
        
        [Node list symbol=case string=failed 
        
         [Node list symbol=@ 
         
          [Node list 
          
           [Node list symbol=Sel symbol=retractIfCan 
           
            [Node list symbol=Polynomial symbol=R ]
            ]
           
           [Node list symbol=denom symbol=rat ]
           ]
          
          [Node list symbol=Union symbol=R string=failed ]
          ]
         ]
        ]
       
       [Node list symbol=exit int=1 
       
        [Node list symbol=IF symbol=G826694 
        
         [Node list symbol=error string=draw: non-constant denominator ]
         
         [Node list symbol=intConvert 
         
          [Node list symbol=Sel symbol=map 
          
           [Node list symbol=PolynomialFunctions2 symbol=R 
           
            [Node list symbol=Integer ]
            ]
           ]
          
          [Node list symbol=numer symbol=rat ]
          ]
         ]
        ]
       ]
      ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF makeObject eq x y l SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET p
    [Node list symbol=LET symbol=p 
    
     [Node list symbol=polyEquation symbol=eq ]
     ]
    
   DEFSubnode:atts= LET floatRange
    [Node list symbol=LET symbol=floatRange 
    
     [Node list symbol=option symbol=l 
     
      [Node list symbol=QUOTE symbol=rangeFloat ]
      ]
     ]
    
   DEFSubnode:atts= LET ratRange
    [Node list symbol=LET symbol=ratRange 
    
     [Node list symbol=option symbol=l 
     
      [Node list symbol=QUOTE symbol=rangeRat ]
      ]
     ]
    
   DEFSubnode:atts= IF noBranch
    [Node list symbol=IF symbol=noBranch 
    
     [Node list symbol=case symbol=floatRange string=failed ]
     
     [Node list symbol=IF symbol=noBranch 
     
      [Node list symbol=case symbol=ratRange string=failed ]
      
      [Node list symbol=exit int=1 
      
       [Node list symbol=error string=draw: you must specify ranges for an implicit plot ]
       ]
      ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=ranges 
     
      [Node list symbol=List 
      
       [Node list symbol=Segment 
       
        [Node list symbol=Fraction 
        
         [Node list symbol=Integer ]
         ]
        ]
       ]
      ]
     
     [Node list symbol=construct ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=floatRanges 
     
      [Node list symbol=List 
      
       [Node list symbol=Segment 
       
        [Node list symbol=Float ]
        ]
       ]
      ]
     
     [Node list symbol=construct ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=xRange 
     
      [Node list symbol=Segment 
      
       [Node list symbol=Fraction 
       
        [Node list symbol=Integer ]
        ]
       ]
      ]
     
     [Node list symbol=segment 
     
      [Node list symbol=Zero ]
      
      [Node list symbol=Zero ]
      ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=yRange 
     
      [Node list symbol=Segment 
      
       [Node list symbol=Fraction 
       
        [Node list symbol=Integer ]
        ]
       ]
      ]
     
     [Node list symbol=segment 
     
      [Node list symbol=Zero ]
      
      [Node list symbol=Zero ]
      ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=xRangeFloat 
     
      [Node list symbol=Segment 
      
       [Node list symbol=Float ]
       ]
      ]
     
     [Node list symbol=segment 
     
      [Node list symbol=Zero ]
      
      [Node list symbol=Zero ]
      ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=yRangeFloat 
     
      [Node list symbol=Segment 
      
       [Node list symbol=Float ]
       ]
      ]
     
     [Node list symbol=segment 
     
      [Node list symbol=Zero ]
      
      [Node list symbol=Zero ]
      ]
     ]
    
   DEFSubnode:atts= IF
    [Node list symbol=IF 
    
     [Node list symbol=case symbol=ratRange string=failed ]
     
     [Node list symbol=SEQ 
     
      [Node list symbol=LET symbol=floatRanges 
      
       [Node list 
       
        [Node list symbol=Sel symbol=retract 
        
         [Node list symbol=AnyFunctions1 
         
          [Node list symbol=List 
          
           [Node list symbol=Segment 
           
            [Node list symbol=Float ]
            ]
           ]
          ]
         ]
        
        [Node list symbol=:: symbol=floatRange 
        
         [Node list symbol=Any ]
         ]
        ]
       ]
      
      [Node list symbol=SEQ 
      
       [Node list symbol=LET 
       
        [Node list symbol=: symbol=G826696 
        
         [Node list symbol=Boolean ]
         ]
        
        [Node list symbol=size? symbol=floatRanges int=2 ]
        ]
       
       [Node list symbol=exit int=1 
       
        [Node list symbol=IF symbol=G826696 symbol=noBranch 
        
         [Node list symbol=exit int=2 
         
          [Node list symbol=error string=draw: you must specify two ranges ]
          ]
         ]
        ]
       ]
      
      [Node list symbol=LET symbol=xRangeFloat 
      
       [Node list symbol=first symbol=floatRanges ]
       ]
      
      [Node list symbol=LET symbol=yRangeFloat 
      
       [Node list symbol=second symbol=floatRanges ]
       ]
      
      [Node list symbol=LET symbol=xRange 
      
       [Node list symbol=@ 
       
        [Node list symbol=map symbol=xRangeFloat 
        
         [Node list symbol=+-> 
         
          [Node list symbol=: 
          
           [Node list symbol=: symbol=s 
           
            [Node list symbol=Float ]
            ]
           
           [Node list symbol=Fraction 
           
            [Node list symbol=Integer ]
            ]
           ]
          
          [Node list symbol=@ 
          
           [Node list symbol=retract symbol=s ]
           
           [Node list symbol=Fraction 
           
            [Node list symbol=Integer ]
            ]
           ]
          ]
         ]
        
        [Node list symbol=Segment 
        
         [Node list symbol=Fraction 
         
          [Node list symbol=Integer ]
          ]
         ]
        ]
       ]
      
      [Node list symbol=LET symbol=yRange 
      
       [Node list symbol=@ 
       
        [Node list symbol=map symbol=yRangeFloat 
        
         [Node list symbol=+-> 
         
          [Node list symbol=: 
          
           [Node list symbol=: symbol=s 
           
            [Node list symbol=Float ]
            ]
           
           [Node list symbol=Fraction 
           
            [Node list symbol=Integer ]
            ]
           ]
          
          [Node list symbol=@ 
          
           [Node list symbol=retract symbol=s ]
           
           [Node list symbol=Fraction 
           
            [Node list symbol=Integer ]
            ]
           ]
          ]
         ]
        
        [Node list symbol=Segment 
        
         [Node list symbol=Fraction 
         
          [Node list symbol=Integer ]
          ]
         ]
        ]
       ]
      
      [Node list symbol=exit int=1 
      
       [Node list symbol=LET symbol=ranges 
       
        [Node list symbol=construct symbol=xRange symbol=yRange ]
        ]
       ]
      ]
     
     [Node list symbol=SEQ 
     
      [Node list symbol=LET symbol=ranges 
      
       [Node list 
       
        [Node list symbol=Sel symbol=retract 
        
         [Node list symbol=AnyFunctions1 
         
          [Node list symbol=List 
          
           [Node list symbol=Segment 
           
            [Node list symbol=Fraction 
            
             [Node list symbol=Integer ]
             ]
            ]
           ]
          ]
         ]
        
        [Node list symbol=:: symbol=ratRange 
        
         [Node list symbol=Any ]
         ]
        ]
       ]
      
      [Node list symbol=SEQ 
      
       [Node list symbol=LET 
       
        [Node list symbol=: symbol=G826695 
        
         [Node list symbol=Boolean ]
         ]
        
        [Node list symbol=size? symbol=ranges int=2 ]
        ]
       
       [Node list symbol=exit int=1 
       
        [Node list symbol=IF symbol=G826695 symbol=noBranch 
        
         [Node list symbol=exit int=2 
         
          [Node list symbol=error string=draw: you must specify two ranges ]
          ]
         ]
        ]
       ]
      
      [Node list symbol=LET symbol=xRange 
      
       [Node list symbol=first symbol=ranges ]
       ]
      
      [Node list symbol=LET symbol=yRange 
      
       [Node list symbol=second symbol=ranges ]
       ]
      
      [Node list symbol=LET symbol=xRangeFloat 
      
       [Node list symbol=@ 
       
        [Node list symbol=map symbol=xRange 
        
         [Node list symbol=+-> 
         
          [Node list symbol=: 
          
           [Node list symbol=: symbol=s 
           
            [Node list symbol=Fraction 
            
             [Node list symbol=Integer ]
             ]
            ]
           
           [Node list symbol=Float ]
           ]
          
          [Node list symbol=@ 
          
           [Node list symbol=convert symbol=s ]
           
           [Node list symbol=Float ]
           ]
          ]
         ]
        
        [Node list symbol=Segment 
        
         [Node list symbol=Float ]
         ]
        ]
       ]
      
      [Node list symbol=LET symbol=yRangeFloat 
      
       [Node list symbol=@ 
       
        [Node list symbol=map symbol=yRange 
        
         [Node list symbol=+-> 
         
          [Node list symbol=: 
          
           [Node list symbol=: symbol=s 
           
            [Node list symbol=Fraction 
            
             [Node list symbol=Integer ]
             ]
            ]
           
           [Node list symbol=Float ]
           ]
          
          [Node list symbol=@ 
          
           [Node list symbol=convert symbol=s ]
           
           [Node list symbol=Float ]
           ]
          ]
         ]
        
        [Node list symbol=Segment 
        
         [Node list symbol=Float ]
         ]
        ]
       ]
      
      [Node list symbol=exit int=1 
      
       [Node list symbol=LET symbol=floatRanges 
       
        [Node list symbol=construct symbol=xRangeFloat symbol=yRangeFloat ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= LET acplot
    [Node list symbol=LET symbol=acplot 
    
     [Node list symbol=makeSketch symbol=p symbol=x symbol=y symbol=xRange symbol=yRange ]
     ]
    
   DEFSubnode:atts= SEQ
    [Node list symbol=SEQ 
    
     [Node list symbol=LET 
     
      [Node list symbol=: symbol=G826697 
      
       [Node list symbol=Boolean ]
       ]
      
      [Node list symbol=toScale symbol=l 
      
       [Node list symbol=drawToScale ]
       ]
      ]
     
     [Node list symbol=exit int=1 
     
      [Node list symbol=IF symbol=G826697 
      
       [Node list symbol=SEQ 
       
        [Node list symbol=LET symbol=scaledRanges 
        
         [Node list symbol=drawToScaleRanges symbol=xRangeFloat symbol=yRangeFloat ]
         ]
        
        [Node list symbol=exit int=1 
        
         [Node list symbol=LET symbol=l 
         
          [Node list symbol=concat symbol=l 
          
           [Node list symbol=ranges symbol=scaledRanges ]
           ]
          ]
         ]
        ]
       
       [Node list symbol=LET symbol=l 
       
        [Node list symbol=concat symbol=l 
        
         [Node list symbol=ranges symbol=floatRanges ]
         ]
        ]
       ]
      ]
     ]
    
   DEFSubnode:atts= LET ptCol
    [Node list symbol=LET symbol=ptCol 
    
     [Node list symbol=pointColorPalette symbol=l 
     
      [Node list symbol=pointColorDefault ]
      ]
     ]
    
   DEFSubnode:atts= LET crCol
    [Node list symbol=LET symbol=crCol 
    
     [Node list symbol=curveColorPalette symbol=l 
     
      [Node list symbol=lineColorDefault ]
      ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=graphCurves symbol=ptCol symbol=crCol symbol=l 
     
      [Node list symbol=listBranches symbol=acplot ]
      
      [Node list symbol=pointSizeDefault ]
      ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF draw eq x y l SEQ
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET g
    [Node list symbol=LET symbol=g 
    
     [Node list symbol=makeObject symbol=eq symbol=x symbol=y symbol=l ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=makeViewport2D symbol=g symbol=l ]
     ]
    
   ]
   
  ]
  
 DEFSubnode:atts= Join
  [Node list symbol=Join 
  
   [Node list symbol=IntegralDomain ]
   
   [Node list symbol=Comparable ]
   
   [Node list symbol=RetractableTo 
   
    [Node list symbol=Integer ]
    ]
   ]
  
 DEFSubnode:atts= FunctionSpace R
  [Node list symbol=FunctionSpace symbol=R ]
  
 DEFSubnode:atts=
  [Node list ]
  
 DEFSubnode:atts=
  [Node list ]
  
 DEFSubnode:atts=
  [Node list ]
  
 ]
 
 [DEF TopLevelDrawFunctionsForPoints
 DEFCategories:
  [CATEGORY  package
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:TwoDimensionalViewport 
   List DoubleFloat 
   List DoubleFloat 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:TwoDimensionalViewport 
   List DoubleFloat 
   List DoubleFloat 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:TwoDimensionalViewport 
   List Point DoubleFloat 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:TwoDimensionalViewport 
   List Point DoubleFloat 
   List DrawOption 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:ThreeDimensionalViewport 
   List DoubleFloat 
   List DoubleFloat 
   List DoubleFloat 
   
   ]
   
  CATEGORYSig:
   [SIGNATURE  draw
   SIGNATURE params:ThreeDimensionalViewport 
   List DoubleFloat 
   List DoubleFloat 
   List DoubleFloat 
   List DrawOption 
   
   ]
   
  ]
  
 DEFCapsule:
  [CAPSULE CAPSULEDef:
   [DEF draw lp l l
   DEFSubnode:atts= TwoDimensionalViewport
    [Node list symbol=TwoDimensionalViewport ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=Point 
     
      [Node list symbol=DoubleFloat ]
      ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= Sel makeViewport2D
    [Node list symbol=Sel symbol=makeViewport2D 
    
     [Node list symbol=TwoDimensionalViewport ]
     ]
    
   DEFSubnode:atts=
    [Node list 
    
     [Node list symbol=Sel symbol=makeGraphImage 
     
      [Node list symbol=GraphImage ]
      ]
     
     [Node list symbol=construct symbol=lp ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF draw lp draw lp
   DEFSubnode:atts= TwoDimensionalViewport
    [Node list symbol=TwoDimensionalViewport ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=Point 
     
      [Node list symbol=DoubleFloat ]
      ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= construct
    [Node list symbol=construct ]
    
   ]
   
  CAPSULEDef:
   [DEF draw lx ly l draw l
   DEFSubnode:atts= TwoDimensionalViewport
    [Node list symbol=TwoDimensionalViewport ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= COLLECT
    [Node list symbol=COLLECT 
    
     [Node list symbol=IN symbol=x symbol=lx ]
     
     [Node list symbol=IN symbol=y symbol=ly ]
     
     [Node list 
     
      [Node list symbol=Sel symbol=point 
      
       [Node list symbol=Point 
       
        [Node list symbol=DoubleFloat ]
        ]
       ]
      
      [Node list symbol=construct symbol=x symbol=y ]
      ]
     ]
    
   ]
   
  CAPSULEDef:
   [DEF draw lx ly draw lx ly
   DEFSubnode:atts= TwoDimensionalViewport
    [Node list symbol=TwoDimensionalViewport ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= construct
    [Node list symbol=construct ]
    
   ]
   
  CAPSULEDef:
   [DEF draw x y z draw x y z
   DEFSubnode:atts= ThreeDimensionalViewport
    [Node list symbol=ThreeDimensionalViewport ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= construct
    [Node list symbol=construct ]
    
   ]
   
  CAPSULEDef:
   [DEF draw x y z l SEQ
   DEFSubnode:atts= ThreeDimensionalViewport
    [Node list symbol=ThreeDimensionalViewport ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DoubleFloat ]
     ]
    
   DEFSubnode:atts= List
    [Node list symbol=List 
    
     [Node list symbol=DrawOption ]
     ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts=
    [Node list ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=m 
     
      [Node list symbol=Integer ]
      ]
     
     [Node list symbol=# symbol=x ]
     ]
    
   DEFSubnode:atts= LET
    [Node list symbol=LET 
    
     [Node list symbol=: symbol=G827762 
     
      [Node list symbol=Boolean ]
      ]
     
     [Node list symbol=zero? symbol=m ]
     ]
    
   DEFSubnode:atts= exit 1
    [Node list symbol=exit int=1 
    
     [Node list symbol=IF symbol=G827762 
     
      [Node list symbol=error string=No X values ]
      
      [Node list symbol=SEQ 
      
       [Node list symbol=LET 
       
        [Node list symbol=: symbol=n 
        
         [Node list symbol=Integer ]
         ]
        
        [Node list symbol=# symbol=y ]
        ]
       
       [Node list symbol=LET 
       
        [Node list symbol=: symbol=G827763 
        
         [Node list symbol=Boolean ]
         ]
        
        [Node list symbol=zero? symbol=n ]
        ]
       
       [Node list symbol=exit int=1 
       
        [Node list symbol=IF symbol=G827763 
        
         [Node list symbol=error string=No Y values ]
         
         [Node list symbol=SEQ 
         
          [Node list symbol=LET 
          
           [Node list symbol=: symbol=zLen 
           
            [Node list symbol=Integer ]
            ]
           
           [Node list symbol=# symbol=z ]
           ]
          
          [Node list symbol=LET 
          
           [Node list symbol=: symbol=G827765 
           
            [Node list symbol=Boolean ]
            ]
           
           [Node list symbol=~= symbol=zLen 
           
            [Node list symbol=* symbol=m symbol=n ]
            ]
           ]
          
          [Node list symbol=exit int=1 
          
           [Node list symbol=IF symbol=G827765 
           
            [Node list symbol=SEQ 
            
             [Node list symbol=LET 
             
              [Node list symbol=: symbol=G827764 
              
               [Node list symbol=Boolean ]
               ]
              
              [Node list symbol=> symbol=zLen 
              
               [Node list symbol=* symbol=m symbol=n ]
               ]
              ]
             
             [Node list symbol=exit int=1 
             
              [Node list symbol=IF symbol=G827764 
              
               [Node list symbol=error string=Too many Z-values to fit grid ]
               
               [Node list symbol=error string=Not enough Z-values to fit grid ]
               ]
              ]
             ]
            
            [Node list symbol=SEQ 
            
             [Node list symbol=LET 
             
              [Node list symbol=: symbol=points 
              
               [Node list symbol=List 
               
                [Node list symbol=List 
                
                 [Node list symbol=Point 
                 
                  [Node list symbol=DoubleFloat ]
                  ]
                 ]
                ]
               ]
              
              [Node list symbol=construct ]
              ]
             
             [Node list symbol=REPEAT 
             
              [Node list symbol=INBY symbol=j 
              
               [Node list symbol=SEGMENT symbol=n 
               
                [Node list symbol=One ]
                ]
               
               [Node list symbol=- 
               
                [Node list symbol=One ]
                ]
               ]
              
              [Node list symbol=SEQ 
              
               [Node list symbol=LET 
               
                [Node list symbol=: symbol=row 
                
                 [Node list symbol=List 
                 
                  [Node list symbol=Point 
                  
                   [Node list symbol=DoubleFloat ]
                   ]
                  ]
                 ]
                
                [Node list symbol=construct ]
                ]
               
               [Node list symbol=REPEAT 
               
                [Node list symbol=INBY symbol=i 
                
                 [Node list symbol=SEGMENT symbol=m 
                 
                  [Node list symbol=One ]
                  ]
                 
                 [Node list symbol=- 
                 
                  [Node list symbol=One ]
                  ]
                 ]
                
                [Node list symbol=SEQ 
                
                 [Node list symbol=LET symbol=zval 
                 
                  [Node list symbol=+ symbol=i 
                  
                   [Node list symbol=* symbol=m 
                   
                    [Node list symbol=- symbol=j 
                    
                     [Node list symbol=One ]
                     ]
                    ]
                   ]
                  ]
                 
                 [Node list symbol=exit int=1 
                 
                  [Node list symbol=LET symbol=row 
                  
                   [Node list symbol=cons symbol=row 
                   
                    [Node list symbol=point 
                    
                     [Node list symbol=construct 
                     
                      [Node list symbol=x symbol=i ]
                      
                      [Node list symbol=y symbol=j ]
                      
                      [Node list symbol=z symbol=zval ]
                      
                      [Node list symbol=z symbol=zval ]
                      ]
                     ]
                    ]
                   ]
                  ]
                 ]
                ]
               
               [Node list symbol=exit int=1 
               
                [Node list symbol=LET symbol=points 
                
                 [Node list symbol=cons symbol=row symbol=points ]
                 ]
                ]
               ]
              ]
             
             [Node list symbol=exit int=1 
             
              [Node list symbol=makeViewport3D symbol=l 
              
               [Node list symbol=mesh symbol=points ]
               ]
              ]
             ]
            ]
           ]
          ]
         ]
        ]
       ]
      ]
     ]
    
   ]
   
  ]
  
 DEFSubnode:atts=
  [Node list ]
  
 ]
 